{"version":3,"file":"index.cjs.js","sources":["../src/getters/addressGetter.ts","../src/helpers/htmlDecoder.ts","../src/helpers/buildCategoryTree.ts","../src/getters/categoryGetters.ts","../src/getters/reviewGetters.ts","../src/getters/productGetters.ts","../src/getters/cartGetters.ts","../src/getters/checkoutGetters.ts","../src/composables/useFacet/_utils.ts","../src/getters/facetGetters.ts","../src/getters/forgotPasswordGetters.ts","../src/getters/orderGetters.ts","../src/getters/storeGetters.ts","../src/helpers/userAddressManipulator.ts","../src/getters/userAddressesGetters.ts","../src/getters/userBillingGetters.ts","../src/getters/userGetters.ts","../src/getters/userShippingGetters.ts","../src/getters/wishlistGetters.ts","../src/getters/storeConfigGetters.ts","../src/helpers/getContextProperty.ts","../src/getVueContext.ts","../src/factories/useAddressesFactory.ts","../src/composables/useAddresses/index.ts","../src/factories/useCartFactory.ts","../src/composables/useCart/index.ts","../src/composables/useShippingProvider/index.ts","../src/composables/useBilling/index.ts","../src/composables/useCategory/index.ts","../src/factories/useCategorySearchFactory.ts","../src/composables/useCategorySearch/index.ts","../src/factories/useConfigFactory.ts","../src/composables/useConfig/index.ts","../src/factories/useContentFactory.ts","../src/composables/useContent/index.ts","../src/factories/useCountrySearchFactory.ts","../src/composables/useCountrySearch/index.ts","../src/factories/useCurrencyFactory.ts","../src/composables/useCurrency/index.ts","../src/factories/useMutationQueryFactory.ts","../src/composables/useCustomMutation/index.ts","../src/factories/useCustomQueryFactory.ts","../src/composables/useCustomQuery/index.ts","../src/factories/useExternalCheckoutFactory.ts","../src/composables/useExternalCheckout/index.ts","../src/composables/useFacet/index.ts","../src/composables/useForgotPassword/index.ts","../src/factories/useGetShippingMethodsFactory.ts","../src/composables/useGetShippingMethods/index.ts","../src/factories/useGuestUserFactory.ts","../src/composables/useGuestUser/index.ts","../src/composables/useMakeOrder/index.ts","../src/helpers/userDataGenerator.ts","../src/composables/useUser/index.ts","../src/factories/useNewsletterFactory.ts","../src/composables/useNewsletter/index.ts","../src/factories/usePaymentProviderFactory.ts","../src/composables/usePaymentProvider/index.ts","../src/composables/useProduct/index.ts","../src/factories/useRelatedProductsFactory.ts","../src/composables/useRelatedProducts/index.ts","../src/factories/useReviewFactory.ts","../src/composables/useReview/index.ts","../src/composables/useShipping/index.ts","../src/factories/useStoreFactory.ts","../src/composables/useStore/index.ts","../src/factories/useUpsellProductsFactory.ts","../src/composables/useUpsellProducts/index.ts","../src/factories/useUrlResolverFactory.ts","../src/composables/useUrlResolver/index.ts","../src/composables/useUserBilling/index.ts","../src/composables/useUserOrder/index.ts","../src/composables/useUserShipping/index.ts","../src/helpers/compareWishlist.ts","../src/helpers/findItemOnWishlist.ts","../src/factories/useWishlistFactory.ts","../src/composables/useWishlist/index.ts","../src/index.ts"],"sourcesContent":["import { Countries, Country } from '@vue-storefront/magento-api';\nimport { AddressGetter } from '../types';\n\nconst countriesList: AddressGetter['countriesList'] = (countries: Countries[]) => countries\n  .filter((c) => c.id && c.full_name_english && c.full_name_locale)\n  .map((c) => ({\n    id: c.id,\n    label: c.full_name_locale,\n    englishLabel: c.full_name_english,\n    abbreviation: c.two_letter_abbreviation,\n  }))\n  .sort((a, b) => a.label.localeCompare(b.label));\n\nconst regionList: AddressGetter['regionList'] = (country: Country) => (country?.available_regions ? country.available_regions\n  .filter((c) => c.id && c.code && c.name)\n  .map((c) => ({\n    id: c.id,\n    label: c.name,\n    abbreviation: c.code,\n  } as {\n    id: number;\n    label: string;\n    abbreviation: string;\n  }))\n  .sort((a, b) => a.label.localeCompare(b.label)) : []);\n\nexport default {\n  countriesList,\n  regionList,\n} as AddressGetter;\n","export function htmlDecode(input) {\n  const formatName = () => {\n    try {\n      const domParser = new DOMParser();\n      const doc = domParser.parseFromString(input, 'text/html');\n      return doc.documentElement.textContent;\n    } catch {\n      return input;\n    }\n  };\n  const name = formatName();\n  return name === 'undefined' ? '' : name;\n}\n","import { Category } from '@vue-storefront/magento-api';\nimport { AgnosticCategoryTree } from '@vue-storefront/core';\nimport { htmlDecode } from './htmlDecoder';\n\nexport const buildCategoryTree = (rootCategory: any, currentCategory: string, withProducts = false): AgnosticCategoryTree => {\n  const hasChildren = Array.isArray(rootCategory.children) && rootCategory.children.length > 0;\n  const isCurrent = rootCategory.uid === currentCategory;\n  const label = htmlDecode(rootCategory.name);\n  const slug = `/${rootCategory.url_path}${rootCategory.url_suffix || ''}`;\n\n  const childrenUid = hasChildren\n    ? rootCategory\n      .children\n      .reduce((acc, curr) => [...acc, curr.uid], [])\n    : [];\n\n  const childProductCount = hasChildren\n    ? rootCategory\n      .children\n      .reduce((acc, curr) => acc + curr.product_count, 0)\n    : 0;\n\n  const items = hasChildren\n    ? rootCategory\n      .children\n      .filter((c) => (withProducts ? c.product_count > 0 : true))\n      .map((c) => buildCategoryTree(c, currentCategory))\n    : [];\n\n  return {\n    label,\n    slug,\n    uid: [rootCategory.uid, ...childrenUid],\n    items: items.filter((c) => c.count > 0),\n    count: childProductCount || rootCategory.product_count,\n    isCurrent,\n  };\n};\n","import { CategoryGetters, AgnosticCategoryTree, AgnosticBreadcrumb } from '@vue-storefront/core';\nimport { Category } from '@vue-storefront/magento-api';\nimport { buildCategoryTree } from '../helpers/buildCategoryTree';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getTree = (category: Category): AgnosticCategoryTree | null => {\n  if (!category) {\n    return null;\n  }\n  return buildCategoryTree(category, '');\n};\n\nexport const getCategoryTree = (\n  category: Category,\n  currentCategory: string = '',\n  withProducts = false,\n): AgnosticCategoryTree | null => (\n  category\n    ? buildCategoryTree(category, currentCategory, withProducts)\n    : null\n);\n\nexport const getCategoryBreadcrumbs = (category: any): AgnosticBreadcrumb[] => {\n  let breadcrumbs = [];\n\n  if (!category) {\n    return [];\n  }\n\n  if (Array.isArray(category?.breadcrumbs)) {\n    breadcrumbs = category.breadcrumbs.map((breadcrumb) => ({\n      text: breadcrumb.category_name,\n      link: `/c/${breadcrumb.category_url_path}${category.url_suffix || ''}`,\n    } as AgnosticBreadcrumb));\n  }\n\n  breadcrumbs.push({\n    text: category.name,\n    link: `/c/${category.url_path}${category.url_suffix || ''}`,\n  } as AgnosticBreadcrumb);\n\n  return breadcrumbs;\n};\n\nconst categoryGetters: CategoryGetters<Category> = {\n  getTree,\n  getBreadcrumbs: getCategoryBreadcrumbs,\n  getCategoryTree,\n};\n\nexport default categoryGetters;\n","/* istanbul ignore file */\nimport { ReviewGetters, AgnosticRateCount } from '@vue-storefront/core';\nimport {\n  ProductReview,\n  ProductReviewRatingMetadata,\n  ProductReviews,\n  ReviewMetadata,\n} from '@vue-storefront/magento-api';\nimport { AgnosticReviewMetadata } from '../types';\n\nexport const getItems = (review): ProductReview[] => review?.reviews?.items || [];\n\nexport const getReviewId = (item: ProductReview): string => `${item.nickname}_${item.created_at}_${item.average_rating}`;\n\nexport const getReviewAuthor = (item: ProductReview): string => item.nickname;\n\nexport const getReviewMessage = (item: ProductReview): string => item.text;\n\nexport const getReviewRating = (item: ProductReview): number => Number.parseInt(\n  item.ratings_breakdown.find((r) => r.name === 'Rating')?.value,\n  10,\n) || 0;\n\nexport const getReviewDate = (item: ProductReview): string => item.created_at;\n\nexport const getTotalReviews = (review: ProductReviews): number => review?.review_count || 0;\n\nexport const getAverageRating = (review): number => (review?.reviews?.items?.reduce((acc, curr) => Number.parseInt(`${acc}`, 10) + getReviewRating(curr), 0)) / (review?.review_count || 1) || 0;\n\nexport const getRatesCount = (_review: ProductReviews): AgnosticRateCount[] => [];\n\nexport const getReviewsPage = (review: ProductReviews): number => review?.reviews.page_info?.page_size || 0;\n\nexport const getReviewMetadata = (reviewData: ProductReviewRatingMetadata[]): AgnosticReviewMetadata[] => reviewData?.map((m) => ({\n  ...m,\n  values: m.values.map((v) => ({\n    label: (Number.parseInt(v.value, 10) || v.value),\n    id: v.value_id,\n  })),\n}));\n\nexport const getProductName = (review: ProductReview): string => review?.product?.name || '';\n\ninterface MagentoReviewGetters extends ReviewGetters<ProductReviews, ProductReview> {\n  getReviewMetadata(reviewData: ReviewMetadata[]): AgnosticReviewMetadata[];\n  getProductName(reviewData: ProductReview): string;\n}\n\nconst reviewGetters: MagentoReviewGetters = {\n  getAverageRating,\n  getItems,\n  getRatesCount,\n  getReviewAuthor,\n  getReviewDate,\n  getReviewId,\n  getReviewMessage,\n  getReviewMetadata,\n  getReviewRating,\n  getReviewsPage,\n  getTotalReviews,\n  getProductName,\n};\n\nexport default reviewGetters;\n","import {\n  AgnosticAttribute,\n  AgnosticBreadcrumb,\n  AgnosticMediaGalleryItem,\n  AgnosticPrice,\n  ProductGetters as ProductGettersBase,\n} from '@vue-storefront/core';\nimport {\n  BundleProduct,\n  Category, GroupedProduct,\n  Product,\n} from '@vue-storefront/magento-api';\n\nimport categoryGetters from './categoryGetters';\nimport { htmlDecode } from '../helpers/htmlDecoder';\nimport reviewGetters from './reviewGetters';\n\ntype ProductVariantFilters = any;\n\nexport const getName = (product: Product): string => {\n  if (!product) {\n    return '';\n  }\n\n  return htmlDecode(product.name);\n};\n\nexport const getSlug = (product: Product, category?: Category): string => {\n  const rewrites = product?.url_rewrites;\n  let url = product?.sku ? `/p/${product.sku}` : '';\n  if (!rewrites || rewrites.length === 0) {\n    return url;\n  }\n\n  url = `/${rewrites[0].url}`;\n  // eslint-disable-next-line no-restricted-syntax\n  for (const rewrite of rewrites) {\n    if (category && category.uid) {\n      url = `/${rewrite.url}`;\n      break;\n    }\n  }\n\n  return url;\n};\n\nexport const getPrice = (product: Product): AgnosticPrice => {\n  let regular = 0;\n  let special = null;\n\n  if (product?.price_range) {\n    regular = product.price_range.minimum_price.regular_price.value;\n    const final = product.price_range.minimum_price.final_price.value;\n\n    if (final < regular) {\n      special = final;\n    }\n  }\n\n  return {\n    regular,\n    special,\n  };\n};\n\nexport const getGallery = (product: Product): AgnosticMediaGalleryItem[] => {\n  const images = [];\n\n  if (!product?.media_gallery && !product?.configurable_product_options_selection?.media_gallery) {\n    return images;\n  }\n\n  const selectedGallery = product.configurable_product_options_selection?.media_gallery\n    ? product.configurable_product_options_selection.media_gallery\n    : product.media_gallery;\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const galleryItem of selectedGallery) {\n    images.push({\n      small: galleryItem.url,\n      normal: galleryItem.url,\n      big: galleryItem.url,\n    });\n  }\n\n  return images;\n};\n\nexport const getCoverImage = (product: Product): string => {\n  if (!product || !product.image) {\n    return null;\n  }\n\n  return product.image.url;\n};\n\nexport const getProductThumbnailImage = (product: Product): string => {\n  if (!product || !product.thumbnail) {\n    return null;\n  }\n\n  return product.thumbnail.url;\n};\n\nexport const getFiltered = (products: Product[], filters: ProductVariantFilters | any = {}): Product[] => {\n  if (!products) {\n    return [];\n  }\n\n  return products;\n};\n\nexport const getAttributes = (\n  products: Product,\n  _filterByAttributeName?: string[],\n): Record<string, AgnosticAttribute | string> => {\n  if (!products || !products?.configurable_options) {\n    return {};\n  }\n\n  const attributes = {};\n  const configurableOptions = products.configurable_options;\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const option of configurableOptions) {\n    attributes[option.attribute_code] = {\n      name: option.attribute_code,\n      label: option.label,\n      value: option.values.map((value) => {\n        const obj = {};\n        obj[value.value_index] = value.label;\n        return obj;\n      }),\n    } as AgnosticAttribute;\n  }\n  return attributes;\n};\n\nexport const getDescription = (product: Product): string => {\n  if (!product || !product?.description) {\n    return '';\n  }\n\n  return product.description.html;\n};\n\nexport const getShortDescription = (product: Product): string => {\n  if (!product || !product.short_description) {\n    return '';\n  }\n  return product.short_description.html;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getCategoryIds = (product: Product): string[] => {\n  const categoryIds = [];\n\n  if (!product?.categories) {\n    return categoryIds;\n  }\n\n  return product.categories.map((category) => category.uid);\n};\n\nexport const getCategory = (product: any, currentUrlPath: string): Category | null => {\n  if (!product?.categories || product?.categories.length === 0) {\n    return null;\n  }\n\n  const categories = currentUrlPath.split('/');\n  categories.pop();\n\n  if (categories.length === 0) {\n    return null;\n  }\n\n  const categoryPath = categories.join('/');\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const category of product.categories) {\n    if (`/${category.url_path}` === categoryPath) {\n      return category;\n    }\n  }\n\n  return null;\n};\n\nexport const getId = (product: Product): string => product.uid;\n\nexport const getProductSku = (product: Product): string => product.sku;\n\n// @ts-ignore\n// eslint-disable-next-line no-underscore-dangle\nexport const getTypeId = (product: Product): string => product.__typename;\n\nexport const getFormattedPrice = (price: number) => {\n  if (price === null) {\n    return null;\n  }\n\n  // TODO get correct data from api\n  const locale = 'en';\n  const country = 'en';\n  const currency = 'USD';\n\n  return new Intl.NumberFormat(`${locale}-${country}`, {\n    style: 'currency',\n    currency,\n  }).format(price);\n};\n\nexport const getBreadcrumbs = (product: any, category?: Category): AgnosticBreadcrumb[] => {\n  let breadcrumbs = [];\n\n  if (!product) {\n    return breadcrumbs;\n  }\n\n  if (category) {\n    breadcrumbs = categoryGetters.getBreadcrumbs(category) as AgnosticBreadcrumb[];\n  }\n\n  breadcrumbs.push({\n    text: getName(product),\n    route: {\n      path: getSlug(product),\n    },\n  });\n\n  return breadcrumbs;\n};\n\nexport const { getTotalReviews } = reviewGetters;\n\nexport const { getAverageRating } = reviewGetters;\n\nexport const getProductRelatedProduct = (product: any): Product[] => product?.related_products || [];\n\nexport const getProductUpsellProduct = (product: any): Product[] => product?.upsell_products || [];\n\nexport const getSwatchData = (swatchData: Product['configurable_options'][0]['values'][0]['swatch_data']): string | undefined => swatchData?.value;\n\nconst sortProduct = (a, b) => a.position - b.position;\n\n// eslint-disable-next-line no-underscore-dangle\nexport const getGroupedProducts = (product: GroupedProduct & { __typename: string }): GroupedProduct['items'] | undefined => product.__typename === 'GroupedProduct' && product?.items?.sort(sortProduct);\n\n// eslint-disable-next-line no-underscore-dangle\nexport const getBundleProducts = (product: BundleProduct & { __typename: string }): BundleProduct['items'] | undefined => product.__typename === 'BundleProduct' && product?.items?.sort(sortProduct);\n\nexport interface ProductGetters extends ProductGettersBase<Product, ProductVariantFilters>{\n  getCategory(product: Product, currentUrlPath: string): Category | null;\n  getProductRelatedProduct(product: Product): Product[];\n  getProductSku(product: Product): string;\n  getProductThumbnailImage(product: Product): string;\n  getProductUpsellProduct(product: Product): Product[];\n  getShortDescription(product: Product): string;\n  getSlug(product: Product, category?: Category): string;\n  getTypeId(product: Product): string;\n  getSwatchData(swatchData: Product['configurable_options'][0]['values'][0]['swatch_data']): string | undefined;\n  getGroupedProducts(product: GroupedProduct): GroupedProduct['items'] | undefined;\n  getBundleProducts(product: BundleProduct): BundleProduct['items'] | undefined;\n}\n\nconst productGetters: ProductGetters = {\n  getAttributes,\n  getAverageRating,\n  getBreadcrumbs,\n  getCategory,\n  getCategoryIds,\n  getCoverImage,\n  getDescription,\n  getFiltered,\n  getFormattedPrice,\n  getGallery,\n  getId,\n  getName,\n  getPrice,\n  getProductRelatedProduct,\n  getProductSku,\n  getProductThumbnailImage,\n  getProductUpsellProduct,\n  getShortDescription,\n  getSlug,\n  getTotalReviews,\n  getTypeId,\n  getSwatchData,\n  getGroupedProducts,\n  getBundleProducts,\n};\n\nexport default productGetters;\n","import {\n  CartGetters as CartGettersBase,\n  AgnosticPrice,\n  AgnosticTotals,\n  AgnosticAttribute,\n  AgnosticCoupon,\n  AgnosticDiscount,\n} from '@vue-storefront/core';\nimport {\n  Discount,\n  Cart,\n  CartItem,\n  Product,\n  SelectedShippingMethod, ConfigurableCartItem, ProductInterface,\n} from '@vue-storefront/magento-api';\nimport productGetters from './productGetters';\nimport { AgnosticPaymentMethod } from '../types';\n\nexport const getItems = (cart: Cart): CartItem[] => {\n  if (!cart || !cart.items) {\n    return [];\n  }\n\n  return cart.items;\n};\n\nexport const getItemName = (product: CartItem): string => productGetters.getName(product.product as Product);\n\nexport const getSlug = (product: CartItem): string => productGetters.getSlug(product.product as Product);\n\nexport const getItemImage = (product: CartItem): string => productGetters.getProductThumbnailImage(product.product as Product);\n\nexport const getItemPrice = (product: CartItem): AgnosticPrice => {\n  if (!product || !product.prices) {\n    return {\n      regular: 0,\n      special: 0,\n    };\n  }\n  if (product.prices) {\n    return {\n      regular: product.prices.row_total.value || 0,\n      special: product.prices.total_item_discount.value || 0,\n    };\n  }\n  const regularPrice = product.product?.price_range?.minimum_price?.regular_price?.value;\n  const specialPrice = product.product?.price_range?.minimum_price?.final_price?.value;\n\n  return {\n    regular: regularPrice || 0,\n    special: specialPrice || 0,\n    // @ts-ignore\n    credit: Math.round(specialPrice / 10),\n    // @TODO: Who set this installment value?\n    installment: Math.round((specialPrice * 1.1046) / 10),\n    discountPercentage: 100 - Math.round((specialPrice / regularPrice) * 100),\n    total: product.prices?.row_total?.value,\n  };\n};\n\nexport const productHasSpecialPrice = (product: CartItem): boolean => getItemPrice(product).regular < getItemPrice(product).special;\n\nexport const getItemQty = (product: CartItem): number => product.quantity;\n\nexport const getItemAttributes = (\n  { product }: CartItem & { product: Product },\n  _filterByAttributeName?: Array<string>,\n): Record<string, AgnosticAttribute | string> => {\n  const attributes = {};\n\n  if (!product || !product.configurable_options) {\n    return attributes;\n  }\n\n  const configurableOptions = product.configurable_options;\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const option of configurableOptions) {\n    attributes[option.attribute_code] = {\n      name: option.attribute_code,\n      label: option.label,\n      value: option.values.map((value) => {\n        const obj = {};\n        obj[value.value_index] = value.label;\n        return obj;\n      }),\n    } as AgnosticAttribute;\n  }\n  return attributes;\n};\n\nexport const getItemSku = (product: CartItem): string => product?.product?.sku || '';\n\nconst calculateDiscounts = (discounts: Discount[]): number => discounts.reduce((a, b) => Number.parseFloat(`${a}`) + Number.parseFloat(`${b.amount.value}`), 0);\n\nexport const getTotals = (cart: Cart): AgnosticTotals => {\n  if (!cart || !cart.prices) return {} as AgnosticTotals;\n\n  const subtotal = cart.prices.subtotal_including_tax.value;\n  return {\n    total: cart.prices.grand_total.value,\n    subtotal: cart.prices.subtotal_including_tax.value,\n    special: (cart.prices.discounts) ? subtotal - calculateDiscounts(cart.prices.discounts) : subtotal,\n  } as AgnosticTotals;\n};\n\nexport const getShippingPrice = (cart: Cart): number => {\n  if (!cart.shipping_addresses) {\n    return 0;\n  }\n\n  return cart.shipping_addresses\n    .reduce((\n      acc,\n      shippingAddress,\n    ) => {\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      const { selected_shipping_method } = shippingAddress;\n\n      if (selected_shipping_method) {\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        return acc + selected_shipping_method.amount.value;\n      }\n\n      return acc;\n    }, 0);\n};\n\nexport const getTotalItems = (cart: Cart): number => {\n  if (!cart) {\n    return 0;\n  }\n  return cart.total_quantity;\n};\n\nexport const getConfiguredVariant = (product: ConfigurableCartItem): ProductInterface | {} => product?.configured_variant || {};\n\n// eslint-disable-next-line import/no-named-as-default-member\nexport const getFormattedPrice = (price: number) => productGetters.getFormattedPrice(price);\n\nexport const getCoupons = (cart: Cart): AgnosticCoupon[] => (Array.isArray(cart?.applied_coupons) ? cart.applied_coupons.map((c) => ({\n  id: c.code,\n  name: c.code,\n  value: 0,\n  code: c.code,\n} as AgnosticCoupon)) : []);\n\nexport const getDiscounts = (cart: Cart): AgnosticDiscount[] => (Array.isArray(cart?.prices.discounts) ? cart.prices.discounts.map((d) => ({\n  id: d.label,\n  name: d.label,\n  description: '',\n  value: d.amount.value,\n  code: d.label,\n} as AgnosticDiscount)) : []);\n\nexport const getAppliedCoupon = (cart: Cart): AgnosticCoupon | null => (Array.isArray(cart?.applied_coupons) && cart?.applied_coupons.length > 0 ? {\n  id: cart.applied_coupons[0].code,\n  name: cart.applied_coupons[0].code,\n  value: 0,\n  code: cart.applied_coupons[0].code,\n} : null);\n\nexport const getSelectedShippingMethod = (cart: Cart): SelectedShippingMethod | null => (cart?.shipping_addresses?.length > 0\n  ? cart?.shipping_addresses[0]?.selected_shipping_method\n  : null);\n\nexport const getAvailablePaymentMethods = (cart: Cart): AgnosticPaymentMethod[] => cart?.available_payment_methods.map((p) => ({\n  label: p.title,\n  value: p.code,\n}));\n\nexport const getStockStatus = (product: CartItem): string => product.product.stock_status;\nexport interface CartGetters extends CartGettersBase<Cart, CartItem> {\n  getAppliedCoupon(cart: Cart): AgnosticCoupon | null;\n  getAvailablePaymentMethods(cart: Cart): AgnosticPaymentMethod[];\n  getSelectedShippingMethod(cart: Cart): SelectedShippingMethod | null;\n  productHasSpecialPrice(product: CartItem): boolean;\n  getStockStatus(product: CartItem): string;\n}\n\nconst cartGetters: CartGetters = {\n  getAppliedCoupon,\n  getAvailablePaymentMethods,\n  getCoupons,\n  getDiscounts,\n  getFormattedPrice,\n  getItemAttributes,\n  getItemImage,\n  getItemName,\n  getSlug,\n  getItemPrice,\n  getItemQty,\n  getItems,\n  getItemSku,\n  getSelectedShippingMethod,\n  getShippingPrice,\n  getTotalItems,\n  getTotals,\n  productHasSpecialPrice,\n  getStockStatus,\n  getConfiguredVariant,\n};\n\nexport default cartGetters;\n","import { ShippingMethod } from '@vue-storefront/magento-api';\nimport productGetters from './productGetters';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getShippingMethodId = (shippingMethod: ShippingMethod): string => '';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getShippingMethodName = (shippingMethod: ShippingMethod): string => '';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getShippingMethodDescription = (shippingMethod: ShippingMethod): string => '';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getShippingMethodPrice = (shippingMethod: ShippingMethod): number => 0;\n\n// eslint-disable-next-line import/no-named-as-default-member\nexport const getFormattedPrice = (price: number) => productGetters.getFormattedPrice(price);\n\nconst checkoutGetters = {\n  getShippingMethodId,\n  getShippingMethodName,\n  getShippingMethodDescription,\n  getFormattedPrice,\n  getShippingMethodPrice,\n};\n\nexport default checkoutGetters;\n","import { SearchData } from '../../types';\n\nconst buildBreadcrumbsList = (rootCat, bc) => {\n  const newBc = [...bc, {\n    text: rootCat.name,\n    link: rootCat.slug,\n  }];\n  return rootCat.parent ? buildBreadcrumbsList(rootCat.parent, newBc) : newBc;\n};\n\nexport const buildBreadcrumbs = (rootCat) => buildBreadcrumbsList(rootCat, [])\n  .reverse()\n  .reduce(\n    (prev, curr, index) => ([\n      ...prev,\n      {\n        ...curr,\n        link: `${prev[index - 1]?.link || ''}/${curr.link}`,\n      }]),\n    [],\n  );\n\nconst filterFacets = (criteria) => (f) => (criteria ? criteria.includes(f.attribute_code) : true);\n\nconst getFacetTypeByCode = (code) => {\n  if (code === 'type_of_stones') {\n    return 'radio';\n  }\n  return 'checkbox';\n};\n\nconst createFacetsFromOptions = (facets, filters, facet) => {\n  const options = facet.options || [];\n  const selectedList = filters && filters[facet.attribute_code] ? filters[facet.attribute_code] : [];\n  return options\n    .map(({\n      label,\n      value,\n      count,\n    }) => ({\n      type: getFacetTypeByCode(facet.attribute_code),\n      id: label,\n      attrName: label,\n      value,\n      selected: selectedList.includes(value),\n      count,\n    }));\n};\n\nexport const reduceForFacets = (facets, filters) => (prev, curr) => ([\n  ...prev,\n  ...createFacetsFromOptions(facets, filters, curr),\n]);\n\nexport const reduceForGroupedFacets = (facets, filters) => (prev, curr) => ([\n  ...prev,\n  {\n    id: curr.attribute_code,\n    label: curr.label,\n    options: createFacetsFromOptions(facets, filters, curr),\n    count: null,\n  },\n]);\n\nexport const buildFacets = (searchData: SearchData, reduceFn, criteria?: string[]) => {\n  if (!searchData.data) {\n    return [];\n  }\n\n  const {\n    data: { availableFilters: facets },\n    input: { filters },\n  } = searchData;\n\n  return facets?.filter(filterFacets(criteria)).reduce(reduceFn(facets, filters), []);\n};\n","import {\n  FacetsGetters,\n  AgnosticCategoryTree,\n  AgnosticGroupedFacet,\n  AgnosticPagination,\n  AgnosticSort,\n  AgnosticBreadcrumb,\n  AgnosticFacet,\n} from '@vue-storefront/core';\n\nimport {\n  buildFacets,\n  reduceForGroupedFacets,\n  reduceForFacets,\n} from '../composables/useFacet/_utils';\n\nimport {\n  SearchData,\n} from '../types';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getAll = (searchData: SearchData, criteria?: string[]): AgnosticFacet[] => buildFacets(searchData, reduceForFacets, criteria);\n\nconst getGrouped = (searchData, criteria?: string[]): AgnosticGroupedFacet[] => buildFacets(searchData, reduceForGroupedFacets, criteria)\n  ?.filter((facet) => facet.options && facet.options.length > 0);\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getSortOptions = (searchData): AgnosticSort => {\n  if (!searchData || !searchData.data || !searchData.data.availableSortingOptions) {\n    return {\n      options: [],\n      selected: '',\n    } as AgnosticSort;\n  }\n\n  return {\n    options: searchData.data.availableSortingOptions,\n    selected: searchData.input.sort,\n  };\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getCategoryTree = (searchData): AgnosticCategoryTree => {\n  const buildTree = (category: any): AgnosticCategoryTree => ({\n    label: category.name,\n    slug: category.url_path,\n    items: (category.children) ? category.children.map((element) => buildTree(element)) : [],\n    isCurrent: (category.name === searchData.data.category.name),\n  });\n\n  if (!searchData.data || !searchData.data.category.children) {\n    return {} as AgnosticCategoryTree;\n  }\n\n  return buildTree(searchData.data.category);\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getProducts = (searchData): any => {\n  if (!searchData || !searchData.data || !searchData.data.items) {\n    return [];\n  }\n  return searchData.data.items;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getPagination = (searchData): AgnosticPagination => {\n  const totalPages = (searchData?.data) ? (\n    Number.isNaN(Math.ceil(searchData.data.total / searchData.input.itemsPerPage))\n      ? 1\n      : Math.ceil(searchData.data.total / searchData.input.itemsPerPage)\n  ) : 1;\n\n  return {\n    currentPage: (searchData?.input?.page > totalPages ? 1 : searchData?.input?.page) || 1,\n    totalPages,\n    totalItems: (searchData?.data?.total) ? searchData.data.total : 0,\n    itemsPerPage: searchData?.input?.itemsPerPage || 10,\n    pageOptions: [10, 50, 100],\n  };\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getBreadcrumbs = (searchData): AgnosticBreadcrumb[] => [];\n\nconst facetGetters: FacetsGetters<any, any> = {\n  getSortOptions,\n  getGrouped,\n  getAll,\n  getProducts,\n  getCategoryTree,\n  getBreadcrumbs,\n  getPagination,\n};\n\nexport default facetGetters;\n","import { ForgotPasswordGetters } from '@vue-storefront/core';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction getResetPasswordToken(result: any): string {\n  return '';\n}\n\nconst isPasswordChanged = (result: any): boolean => result?.resetPassword;\n\nexport const forgotPasswordGetters: ForgotPasswordGetters<any> = {\n  getResetPasswordToken,\n  isPasswordChanged,\n};\n\nexport default forgotPasswordGetters;\n","/* istanbul ignore file */\n\nimport { AgnosticPagination } from '@vue-storefront/core';\n\nexport const getDate = (order: any): string => new Date(order?.created_at).toLocaleDateString() || '';\n\nexport const getId = (order: any): string => String(Number.parseInt(order?.order_number, 10) || Math.floor(Math.random() * 100));\n\nexport const getStatus = (order: any): string => order?.status || 'Failed';\n\nexport const getPrice = (order: any): number | null => order?.grand_total || 0;\n\nexport const getItems = (order: any): any[] => order?.items || [];\n\nexport const getItemSku = (item: any): string => item?.product_sku || 0;\n\nexport const getItemName = (item: any): string => item?.product_name || 0;\n\nexport const getItemQty = (item: any): number => item?.quantity_ordered || 0;\n\nexport const getItemPrice = (item: any): number => item?.product_sale_price?.value || 0;\n\nexport const getFormattedPrice = (price: number) => String(price);\n\nconst getPagination = (orders: any): AgnosticPagination => ({\n  currentPage: orders?.page_info?.current_page || 1,\n  totalPages: orders?.page_info?.total_pages || 1,\n  totalItems: orders?.total_count || 0,\n  itemsPerPage: orders?.page_info?.page_size || 10,\n  pageOptions: [10, 50, 100],\n});\n\nconst orderGetters = {\n  getDate,\n  getId,\n  getStatus,\n  getPrice,\n  getItems,\n  getItemSku,\n  getItemName,\n  getItemQty,\n  getItemPrice,\n  getFormattedPrice,\n  getPagination,\n};\n\nexport default orderGetters;\n","import { AvailableStores, StoreConfig } from '@vue-storefront/magento-api';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction getItems(stores: AvailableStores, criteria: any = {}): AvailableStores {\n  return stores;\n}\n\nfunction getSelected(config: StoreConfig, store: StoreConfig): boolean {\n  return config.store_code === store.store_code;\n}\n\nconst storeGetters = {\n  getItems,\n  getSelected,\n};\n\nexport default storeGetters;\n","import { CustomerAddressInput } from '@vue-storefront/magento-api';\n\nexport const transformUserCreateAddressInput = (addressInputParams): CustomerAddressInput => {\n  const {\n    apartment,\n    neighborhood,\n    extra,\n    ...address\n  } = addressInputParams.address;\n\n  const street = [address.street];\n\n  if (apartment) street.push(apartment);\n\n  if (neighborhood) street.push(neighborhood);\n\n  if (extra) street.push(extra);\n\n  return {\n    ...address,\n    street,\n  };\n};\n\nexport const transformUserUpdateAddressInput = (addressInputParams): {\n  addressId: number;\n  input: CustomerAddressInput;\n} => {\n  const {\n    apartment,\n    neighborhood,\n    extra,\n    id,\n    // @ts-ignore\n    // eslint-disable-next-line\n    extension_attributes,\n    // @ts-ignore\n    // eslint-disable-next-line no-underscore-dangle\n    __typename: typenameAddress,\n    ...address\n  } = addressInputParams.address;\n\n  const {\n    // @ts-ignore\n    // eslint-disable-next-line no-underscore-dangle\n    __typename: typenameRegion,\n    ...region\n  } = address.region;\n\n  const street = (Array.isArray(address.street) ? [...address.street] : [address.street]);\n\n  if (apartment) street.push(apartment);\n\n  if (neighborhood) street.push(neighborhood);\n\n  if (extra) street.push(extra);\n\n  const addressParams: CustomerAddressInput = {\n    ...address,\n    region,\n    street: street.filter(Boolean),\n  };\n\n  return {\n    addressId: id,\n    input: {\n      ...addressParams,\n    },\n  };\n};\n\nexport const transformUserGetter = (addressInput) => ({\n  ...addressInput,\n  street: addressInput.street[0],\n  apartment: addressInput.street[1],\n  neighborhood: addressInput.street[2],\n  extra: addressInput.street[3],\n});\n","import { UserAddressesGetters as BaseGetters } from '../types/getters';\nimport { transformUserGetter } from '../helpers/userAddressManipulator';\n\ninterface UserAddressesGetters extends BaseGetters<any, any>{\n  getNeighborhood: (address: any) => string\n  getAddressExtra: (address: any) => string\n}\n\nconst userAddressesGetters: UserAddressesGetters = {\n  getAddresses: (addresses, criteria?: Record<string, any>) => {\n    if (!addresses || addresses.length === 0 || !Array.isArray(addresses)) return [];\n\n    const addressesData = addresses?.map((a) => transformUserGetter(a))\n      ?.sort((a, b) => ((a.default_shipping === b.default_shipping) ? 0 : (a.default_shipping ? -1 : 1)))\n      ?.sort((a, b) => ((a.default_billing === b.default_billing) ? 0 : (a.default_billing ? -1 : 1)));\n\n    if (!criteria || Object.keys(criteria).length === 0) {\n      return addressesData;\n    }\n\n    const entries = Object.entries(criteria);\n    return addressesData.filter((address) => entries.every(([key, value]) => address[key] === value));\n  },\n  getDefault: (addresses) => addresses.find(({ isDefault }) => isDefault),\n  getTotal: (addresses) => addresses.length,\n\n  getPostCode: (address) => address?.postcode || '',\n  getStreetName: (address) => (Array.isArray(address?.street) ? address?.street[0] : address?.street),\n  getStreetNumber: (address) => address?.streetNumber || '',\n  getCity: (address) => address?.city || '',\n  getFirstName: (address) => address?.firstname || '',\n  getLastName: (address) => address?.lastname || '',\n  getCountry: (address) => address?.country_code || '',\n  getPhone: (address) => address?.phone || '',\n  getEmail: (address) => address?.email || '',\n  getProvince: (address) => (address?.region?.region_code || address?.region?.region) || '',\n  getCompanyName: (address) => address?.company || '',\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getTaxNumber: (address) => address?.vat_id || '',\n  getId: (address) => address?.id || '',\n  getApartmentNumber: (address) => (Array.isArray(address?.street) ? address?.street[1] : address?.apartment),\n  getNeighborhood: (address) => (Array.isArray(address?.street) ? address?.street[2] : address?.neighborhood),\n  getAddressExtra: (address) => (Array.isArray(address?.street) ? address?.street[3] : address?.extra),\n  isDefault: (address) => (address?.default_shipping || address?.default_billing) || false,\n  isDefaultShipping: (address) => address?.default_shipping || false,\n  isDefaultBilling: (address) => address?.default_billing || false,\n};\n\nexport default userAddressesGetters;\n","import { UserBillingGetters as BaseGetters } from '@vue-storefront/core';\n\ninterface UserBillingGetters extends BaseGetters<any, any>{\n  getNeighborhood: (address: any) => string\n  getAddressExtra: (address: any) => string\n}\n\nconst userBillingGetters: UserBillingGetters = {\n  getAddresses: (billing, criteria?: Record<string, any>) => {\n    if (!criteria || Object.keys(criteria).length === 0) {\n      return billing.addresses;\n    }\n\n    const entries = Object.entries(criteria);\n    return billing.addresses.filter((address) => entries.every(([key, value]) => address[key] === value));\n  },\n  getDefault: (billing) => billing.addresses.find(({ isDefault }) => isDefault),\n  getTotal: (billing) => billing.addresses.length,\n\n  getPostCode: (address) => address?.postcode || '',\n  getStreetName: (address) => (Array.isArray(address?.street) ? address?.street[0] : ''),\n  getStreetNumber: (address) => address?.streetNumber || '',\n  getCity: (address) => address?.city || '',\n  getFirstName: (address) => address?.firstname || '',\n  getLastName: (address) => address?.lastname || '',\n  getCountry: (address) => address?.country_code || '',\n  getPhone: (address) => address?.phone || '',\n  getEmail: (address) => address?.email || '',\n  getProvince: (address) => (address?.region?.region_code || address?.region?.region) || '',\n  getCompanyName: (address) => address?.company || '',\n  getNeighborhood: (address) => (Array.isArray(address?.street) ? address?.street[2] : address?.neighborhood),\n  getAddressExtra: (address) => (Array.isArray(address?.street) ? address?.street[3] : address?.extra),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getTaxNumber: (address) => address.vat_id || '',\n  getId: (address) => address?.id || '',\n  getApartmentNumber: (address) => (Array.isArray(address?.street) ? address?.street[1] : ''),\n  isDefault: (address) => address?.default_billing || false,\n};\n\nexport default userBillingGetters;\n","/* istanbul ignore file */\nimport { UserGetters as BaseUserGetters } from '@vue-storefront/core';\nimport { Customer } from '@vue-storefront/magento-api';\n\nexport const getFirstName = (user: Customer): string => (user ? user.firstname : '');\n\nexport const getLastName = (user: Customer): string => (user ? user.lastname : '');\n\nexport const getEmailAddress = (user: Customer): string => (user ? user.email : '');\n\nexport const getFullName = (user: Customer): string => (user ? `${user.firstname} ${user.lastname}` : '');\n\nconst userGetters: BaseUserGetters<Customer> = {\n  getFirstName,\n  getLastName,\n  getEmailAddress,\n  getFullName,\n};\n\nexport default userGetters;\n","import { Logger, UserShippingGetters } from '@vue-storefront/core';\n\nconst userShippingGetters: UserShippingGetters<any, any> = {\n  getAddresses: (shipping, criteria?: Record<string, any>) => {\n    Logger.debug(shipping);\n    if (!shipping || !shipping.addresses) return [] as Record<string, any>;\n\n    if (!criteria || Object.keys(criteria).length === 0) {\n      return shipping.addresses;\n    }\n\n    const entries = Object.entries(criteria);\n    return shipping.addresses.filter((address) => entries.every(([key, value]) => address[key] === value));\n  },\n  getDefault: (shipping) => shipping.addresses.find(({ isDefault }) => isDefault),\n  getTotal: (shipping) => shipping.addresses.length,\n\n  getPostCode: (address) => address?.postcode || '',\n  getStreetName: (address) => (Array.isArray(address?.street) ? address?.street[0] : ''),\n  getStreetNumber: (address) => address?.streetNumber || '',\n  getCity: (address) => address?.city || '',\n  getFirstName: (address) => address?.firstname || '',\n  getLastName: (address) => address?.lastname || '',\n  getCountry: (address) => address?.country_code || '',\n  getPhone: (address) => address?.phone || '',\n  getEmail: (address) => address?.email || '',\n  getProvince: (address) => (address?.region?.region_code || address?.region?.region) || '',\n  getCompanyName: (address) => address?.company || '',\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getTaxNumber: (address) => '',\n  getId: (address) => address?.id || '',\n  getApartmentNumber: (address) => (Array.isArray(address?.street) ? address?.street[1] : ''),\n  isDefault: (address) => address?.default_shipping || false,\n};\n\nexport default userShippingGetters;\n","/* istanbul ignore file */\nimport {\n  WishlistGetters as BaseWishlistGetters,\n  AgnosticPrice,\n  AgnosticTotals, AgnosticPagination,\n} from '@vue-storefront/core';\nimport {\n  Wishlist, WishlistQuery,\n} from '@vue-storefront/magento-api';\n\nexport type WishlistProduct = WishlistQuery['customer']['wishlists'][0]['items_v2']['items'][0] & { variant: any };\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getItems = (wishlist): WishlistProduct[] => wishlist.items_v2.items;\n\nexport const getItemName = (product: WishlistProduct): string => product?.product?.name || '';\n\nexport const getItemImage = (product: WishlistProduct): string => product?.product?.thumbnail.url || '';\n\nexport const getItemPrice = (product: WishlistProduct): AgnosticPrice => {\n  let regular = 0;\n  let special = null;\n\n  if (product?.product?.price_range) {\n    regular = product?.product?.price_range.minimum_price.regular_price.value;\n    const final = product?.product?.price_range.minimum_price.final_price.value;\n\n    if (final < regular) {\n      special = final;\n    }\n  }\n\n  return {\n    regular,\n    special,\n  };\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getItemQty = (product: WishlistProduct): number => product.quantity;\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getItemAttributes = (product: WishlistProduct, filterByAttributeName?: string[]) => ({ '': '' });\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getItemSku = (product: WishlistProduct): string => product?.product?.sku || '';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getTotals = (wishlist): AgnosticTotals => {\n  if (Array.isArray(wishlist)) {\n    return wishlist[0]?.items_v2?.items.reduce((acc, curr) => ({\n      // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n      total: acc.total + getItemPrice(curr).special,\n      // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n      subtotal: acc.subtotal + getItemPrice(curr).regular,\n    }), ({ total: 0, subtotal: 0 }));\n  }\n  return wishlist?.items_v2?.items.reduce((acc, curr) => ({\n    total: acc.total + getItemPrice(curr).special,\n    subtotal: acc.subtotal + getItemPrice(curr).regular,\n  }), ({ total: 0, subtotal: 0 }));\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getShippingPrice = (wishlist: Wishlist): number => 0;\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getTotalItems = (wishlist: Wishlist): number => (Array.isArray(wishlist) ? wishlist[0]?.items_count : (wishlist?.items_count || 0));\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getFormattedPrice = (price: number): string => '';\n\nconst getPagination = (wishlistData: Wishlist): AgnosticPagination => ({\n  currentPage: wishlistData?.items_v2?.page_info?.current_page || 1,\n  totalPages: wishlistData?.items_v2?.page_info?.total_pages || 1,\n  totalItems: wishlistData?.items_count || 0,\n  itemsPerPage: wishlistData?.items_v2?.page_info?.page_size || 10,\n  pageOptions: [10, 50, 100],\n});\n\nconst getProducts = (wishlistData: Wishlist[] | Wishlist): {\n  product: WishlistProduct;\n  quantity: number;\n  added_at: string;\n}[] => {\n  if (!wishlistData || (Array.isArray(wishlistData) && wishlistData.length === 0)) {\n    return [];\n  }\n\n  const reducer = (acc, curr) => [...acc, ...curr?.items_v2?.items.map((item) => ({\n    product: item.product,\n    quantity: item.quantity,\n    added_at: item.added_at,\n    id: item.id,\n  }))];\n\n  const mapper = (item) => ({\n    product: item.product,\n    quantity: item.quantity,\n    added_at: item.added_at,\n    id: item.id,\n  });\n\n  return Array.isArray(wishlistData)\n    ? wishlistData.reduce((acc, curr) => reducer(acc, curr), [])\n    : wishlistData?.items_v2?.items.map((e) => mapper(e));\n};\n\nexport interface WishlistGetters extends BaseWishlistGetters<Wishlist, WishlistProduct> {\n  getShippingPrice(wishlist: Wishlist): number;\n\n  getItemQty(product: WishlistProduct): number;\n\n  getPagination(wishlistData): AgnosticPagination;\n\n  getProducts(wishlistData): {\n    product: WishlistProduct;\n    quantity: number;\n    added_at: string;\n  }[];\n}\n\nconst wishlistGetters: WishlistGetters = {\n  getTotals,\n  getShippingPrice,\n  getItems,\n  getItemName,\n  getItemImage,\n  getItemPrice,\n  getItemQty,\n  getItemAttributes,\n  getItemSku,\n  getTotalItems,\n  getFormattedPrice,\n  getPagination,\n  getProducts,\n};\n\nexport default wishlistGetters;\n","import { StoreConfig } from '@vue-storefront/magento-api';\n\nconst getCode = (config: StoreConfig) => config.store_code;\nconst getTitle = (config: StoreConfig) => config.default_title;\nconst getName = (config: StoreConfig) => config.store_name;\nconst getCurrency = (config: StoreConfig) => config.default_display_currency_code;\nconst getLocale = (config: StoreConfig) => config.locale;\nconst allowGuestProductReview = (config: StoreConfig) => config.allow_guests_to_write_product_reviews;\nconst enabledWishlist = (config: StoreConfig) => config.magento_wishlist_general_is_enabled;\nconst getBaseMediaUrl = (config: StoreConfig) => config.base_media_url;\nconst getLogoSrc = (config: StoreConfig) => config.header_logo_src;\nconst getLogoWidth = (config: StoreConfig) => config.logo_width;\nconst getLogoHeight = (config: StoreConfig) => config.logo_height;\nconst getLogoAlt = (config: StoreConfig) => config.logo_alt;\n\nconst storeConfigGetters = {\n  getCode,\n  getTitle,\n  getName,\n  getCurrency,\n  getLocale,\n  allowGuestProductReview,\n  enabledWishlist,\n  getBaseMediaUrl,\n  getLogoSrc,\n  getLogoWidth,\n  getLogoHeight,\n  getLogoAlt,\n};\n\nexport default storeConfigGetters;\n","export const getContextProperty = <RETURN_TYPE>(object: Record<string, any>, name: string) => (\n  object?.[`$${name}`]\n  || object?.[name]) as RETURN_TYPE;\n","/* eslint-disable no-param-reassign */\nimport { EffectScope } from '@vue/composition-api';\nimport { NuxtAppOptions } from '@nuxt/types/app';\nimport { getContextProperty } from './helpers/getContextProperty';\n\nexport const extendScopeContext = (scope: EffectScope, app: NuxtAppOptions) => {\n  // @ts-ignore\n  if (scope.vm) {\n    // @ts-ignore\n    scope.vm.interceptors = getContextProperty(app, 'interceptors');\n    // @ts-ignore\n    scope.vm.i18n = getContextProperty(app, 'i18n');\n    // @ts-ignore\n    scope.vm.routing = getContextProperty(app, 'routing');\n    // @ts-ignore\n    scope.vm.magento = getContextProperty(app, 'magento');\n  }\n};\n","import {\n  configureFactoryParams,\n  Context,\n  CustomQuery,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { computed, Ref } from '@vue/composition-api';\nimport { ComposableFunctionArgs, PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { CustomQueryParams, UseAddresses, UseAddressesErrors } from '../types/composables';\n\nexport interface UseAddressesParams<ADDRESS,\n  LOAD_ADDRESS_PARAMS extends { customQuery?: CustomQuery } =CustomQueryParams,\n  SAVE_ADDRESS_PARAMS extends { customQuery?: CustomQuery } = CustomQueryParams,\n  UPDATE_ADDRESS_PARAMS extends { customQuery?: CustomQuery } = CustomQueryParams,\n  REMOVE_ADDRESS_PARAMS extends { customQuery?: CustomQuery } = CustomQueryParams,\n  API extends PlatformApi = any,\n> extends FactoryParams<API> {\n  load: (context: Context, params?: ComposableFunctionArgs<LOAD_ADDRESS_PARAMS>) => Promise<ADDRESS[]>;\n  save: (context: Context, params: ComposableFunctionArgs<SAVE_ADDRESS_PARAMS>) => Promise<ADDRESS>;\n  update: (context: Context, params: ComposableFunctionArgs<UPDATE_ADDRESS_PARAMS>) => Promise<ADDRESS>;\n  remove: (context: Context, params: ComposableFunctionArgs<REMOVE_ADDRESS_PARAMS>) => Promise<boolean>;\n}\n\nexport const useAddressesFactory = <ADDRESS,\n  LOAD_ADDRESS_PARAMS extends { customQuery?: CustomQuery },\n  SAVE_ADDRESS_PARAMS extends { customQuery?: CustomQuery },\n  UPDATE_ADDRESS_PARAMS extends { customQuery?: CustomQuery },\n  REMOVE_ADDRESS_PARAMS extends { customQuery?: CustomQuery },\n  API extends PlatformApi = any,\n>(\n  factoryParams: UseAddressesParams<ADDRESS,\n  LOAD_ADDRESS_PARAMS,\n  SAVE_ADDRESS_PARAMS,\n  UPDATE_ADDRESS_PARAMS,\n  REMOVE_ADDRESS_PARAMS,\n  API>,\n) => function useAddresses(): UseAddresses<ADDRESS,\nLOAD_ADDRESS_PARAMS,\nSAVE_ADDRESS_PARAMS,\nUPDATE_ADDRESS_PARAMS,\nREMOVE_ADDRESS_PARAMS,\nAPI> {\n  const loading: Ref<boolean> = sharedRef(false, 'useAddresses-loading');\n  const addresses: Ref<ADDRESS[]> = sharedRef(null, 'useAddresses-shipping');\n  const error: Ref<UseAddressesErrors> = sharedRef({\n    load: null,\n    save: null,\n    remove: null,\n    update: null,\n  }, 'useAddresses-error');\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n  const _factoryParams = configureFactoryParams(factoryParams);\n\n  const load = async (loadParams?: ComposableFunctionArgs<LOAD_ADDRESS_PARAMS>) => {\n    Logger.debug('useAddresses.load');\n\n    try {\n      loading.value = true;\n      const addressesInfo = await _factoryParams.load(loadParams);\n      error.value.load = null;\n      addresses.value = addressesInfo;\n    } catch (err) {\n      error.value.load = err;\n      Logger.error('useAddresses/load', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const save = async (saveParams: ComposableFunctionArgs<SAVE_ADDRESS_PARAMS>) => {\n    Logger.debug('useAddresses.save');\n\n    try {\n      loading.value = true;\n      const addressesInfo = await _factoryParams.save(saveParams);\n      error.value.save = null;\n      addresses.value = addressesInfo;\n    } catch (err) {\n      error.value.save = err;\n      Logger.error('useAddresses/save', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const update = async (updateParams: ComposableFunctionArgs<UPDATE_ADDRESS_PARAMS>) => {\n    Logger.debug('useAddresses.update');\n\n    try {\n      loading.value = true;\n\n      const addressesInfo = await _factoryParams.update(updateParams);\n\n      error.value.update = null;\n\n      addresses.value = addressesInfo;\n    } catch (err) {\n      error.value.update = err;\n\n      Logger.error('useAddresses.delete', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const remove = async (removeParams: ComposableFunctionArgs<REMOVE_ADDRESS_PARAMS>) => {\n    Logger.debug('useAddresses.remove');\n\n    try {\n      loading.value = true;\n\n      await _factoryParams.remove(removeParams);\n\n      error.value.remove = null;\n    } catch (err) {\n      error.value.remove = err;\n\n      Logger.error('useAddresses.remove', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    addresses: computed(() => addresses.value),\n    error: computed(() => error.value),\n    load,\n    loading: computed(() => loading.value),\n    remove,\n    save,\n    update,\n  };\n};\n","/* eslint-disable no-param-reassign, consistent-return */\nimport {\n  Context,\n  Logger,\n} from '@vue-storefront/core';\nimport { CustomerAddress, CustomerAddressInput } from '@vue-storefront/magento-api';\nimport {\n  transformUserCreateAddressInput,\n  transformUserUpdateAddressInput,\n} from '../../helpers/userAddressManipulator';\nimport { useAddressesFactory, UseAddressesParams } from '../../factories/useAddressesFactory';\nimport { CustomQueryParams } from '../../types/composables';\n\ntype SaveAddressInput = {\n  address: CustomerAddressInput,\n} & CustomQueryParams;\n\ntype UpdateAddressInput = {\n  address: CustomerAddressInput,\n} & CustomQueryParams;\n\ntype RemoveAddressInput = {\n  address: {\n    id: number;\n  }\n} & CustomQueryParams;\n\nconst factoryParams: UseAddressesParams<CustomerAddress,\nCustomQueryParams,\nSaveAddressInput,\nUpdateAddressInput,\nRemoveAddressInput> = {\n  load: async (context: Context, params?: CustomQueryParams) => {\n    Logger.debug('[Magento] load user addresses');\n\n    const { data } = await context.$magento.api.getCustomerAddresses();\n\n    return data?.customer?.addresses ?? [];\n  },\n  save: async (context: Context, saveParams) => {\n    Logger.debug('[Magento] save user address:', saveParams.address);\n    const { data } = await context.$magento.api.createCustomerAddress(\n      transformUserCreateAddressInput(saveParams),\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.createCustomerAddress ?? {};\n  },\n  remove: async (context: Context, params) => {\n    Logger.debug('[Magento] remove user addresses');\n\n    const { data } = await context.$magento.api.deleteCustomerAddress(\n      params.address.id,\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    return !!data.deleteCustomerAddress;\n  },\n  update: async (context: Context, params) => {\n    Logger.debug('[Magento] update user addresses', params);\n\n    const { data } = await context.$magento.api.updateCustomerAddress(\n      transformUserUpdateAddressInput(params),\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.updateCustomerAddress ?? {};\n  },\n};\n\nexport default useAddressesFactory(factoryParams);\n","import {\n  UseCart as UseCartCore, Context, FactoryParams, UseCartErrors as UseCartErrorsCore, PlatformApi, sharedRef, Logger, configureFactoryParams, ComposableFunctionArgs,\n} from '@vue-storefront/core';\nimport { computed, Ref } from '@vue/composition-api';\nimport { ComputedProperty, CustomQuery } from '@vue-storefront/core/lib/src/types';\n\nexport interface UseCartFactoryParams<CART, CART_ITEM, PRODUCT, API extends PlatformApi = any> extends FactoryParams<API> {\n  load: (context: Context, params: ComposableFunctionArgs<{ realCart?: boolean; }>) => Promise<CART>;\n  loadTotalQty: (context: Context) => Promise<number>;\n  addItem: (\n    context: Context,\n    params: ComposableFunctionArgs<{\n      currentCart: CART;\n      product: PRODUCT;\n      quantity: any;\n    }>\n  ) => Promise<CART>;\n  removeItem: (context: Context, params: ComposableFunctionArgs<{ currentCart: CART; product: CART_ITEM; }>) => Promise<CART>;\n  updateItemQty: (\n    context: Context,\n    params: ComposableFunctionArgs<{ currentCart: CART; product: CART_ITEM; quantity: number; }>\n  ) => Promise<CART>;\n  clear: (context: Context, params: { currentCart: CART }) => Promise<CART>;\n  applyCoupon: (context: Context, params: ComposableFunctionArgs<{ currentCart: CART; couponCode: string; }>) => Promise<{ updatedCart: CART }>;\n  removeCoupon: (\n    context: Context,\n    params: ComposableFunctionArgs<{ currentCart: CART; couponCode: string; }>\n  ) => Promise<{ updatedCart: CART }>;\n  isInCart: (context: Context, params: { currentCart: CART; product: PRODUCT }) => boolean;\n}\n\nexport interface UseCart<CART, CART_ITEM, PRODUCT, API extends PlatformApi = any> extends UseCartCore<CART, CART_ITEM, PRODUCT, API> {\n  totalQuantity: ComputedProperty<number>,\n  loadTotalQty(params: {\n    customQuery?: CustomQuery;\n  }): Promise<void>;\n}\nexport interface UseCartErrors extends UseCartErrorsCore {\n  loadTotalQty: Error\n}\n\nexport const useCartFactory = <CART, CART_ITEM, PRODUCT, API extends PlatformApi = any>(\n  factoryParams: UseCartFactoryParams<CART, CART_ITEM, PRODUCT, API>,\n) => function useCart(): UseCart<CART, CART_ITEM, PRODUCT, API> {\n  const loading: Ref<boolean> = sharedRef(false, 'useCart-loading');\n  const cart: Ref<CART> = sharedRef(null, 'useCart-cart');\n  const totalQuantity: Ref<number> = sharedRef(0, 'useCart-totalQuantity');\n  const error: Ref<UseCartErrors> = sharedRef({\n    addItem: null,\n    removeItem: null,\n    updateItemQty: null,\n    load: null,\n    clear: null,\n    applyCoupon: null,\n    removeCoupon: null,\n    loadTotalQty: null,\n  }, 'useCart-error');\n\n  // eslint-disable-next-line no-underscore-dangle,@typescript-eslint/naming-convention\n  const _factoryParams = configureFactoryParams(\n    factoryParams,\n    {\n      mainRef: cart,\n      alias: 'currentCart',\n      loading,\n      error,\n    },\n  );\n\n  const setCart = (newCart: CART) => {\n    cart.value = newCart;\n    Logger.debug('useCartFactory.setCart', newCart);\n  };\n\n  const addItem = async ({\n    product,\n    quantity,\n    customQuery,\n  }) => {\n    Logger.debug('useCart.addItem', {\n      product,\n      quantity,\n    });\n\n    try {\n      loading.value = true;\n      const updatedCart = await _factoryParams.addItem({\n        currentCart: cart.value,\n        product,\n        quantity,\n        customQuery,\n      });\n      error.value.addItem = null;\n      cart.value = updatedCart;\n      totalQuantity.value = updatedCart.total_quantity;\n    } catch (err) {\n      error.value.addItem = err;\n      Logger.error('useCart/addItem', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const removeItem = async ({\n    product,\n    customQuery,\n  }) => {\n    Logger.debug('useCart.removeItem', { product });\n\n    try {\n      loading.value = true;\n      const updatedCart = await _factoryParams.removeItem({\n        currentCart: cart.value,\n        product,\n        customQuery,\n      });\n      error.value.removeItem = null;\n      cart.value = updatedCart;\n      totalQuantity.value = updatedCart.total_quantity;\n    } catch (err) {\n      error.value.removeItem = err;\n      Logger.error('useCart/removeItem', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const updateItemQty = async ({\n    product,\n    quantity,\n    customQuery,\n  }) => {\n    Logger.debug('useCart.updateItemQty', {\n      product,\n      quantity,\n    });\n\n    if (quantity && quantity > 0) {\n      try {\n        loading.value = true;\n        const updatedCart = await _factoryParams.updateItemQty({\n          currentCart: cart.value,\n          product,\n          quantity,\n          customQuery,\n        });\n        error.value.updateItemQty = null;\n        cart.value = updatedCart;\n        totalQuantity.value = updatedCart.total_quantity;\n      } catch (err) {\n        error.value.updateItemQty = err;\n        Logger.error('useCart/updateItemQty', err);\n      } finally {\n        loading.value = false;\n      }\n    }\n  };\n\n  const load = async ({ customQuery } = { customQuery: undefined }) => {\n    Logger.debug('useCart.load');\n\n    try {\n      loading.value = true;\n      const loadedCart = await _factoryParams.load({ customQuery });\n      cart.value = loadedCart;\n      totalQuantity.value = loadedCart?.total_quantity ?? 0;\n      error.value.load = null;\n    } catch (err) {\n      error.value.load = err;\n      Logger.error('useCart/load', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const loadTotalQty = async ({ customQuery } = { customQuery: undefined }) => {\n    Logger.debug('useCart.loadTotalQty');\n\n    try {\n      loading.value = true;\n      totalQuantity.value = await _factoryParams.loadTotalQty({ customQuery });\n      error.value.loadTotalQty = null;\n    } catch (err) {\n      error.value.loadTotalQty = err;\n      Logger.error('useCart/loadTotalQty', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const clear = async () => {\n    Logger.debug('useCart.clear');\n\n    try {\n      loading.value = true;\n      const updatedCart = await _factoryParams.clear({ currentCart: cart.value });\n      error.value.clear = null;\n      cart.value = updatedCart;\n      totalQuantity.value = 0;\n    } catch (err) {\n      error.value.clear = err;\n      Logger.error('useCart/clear', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const isInCart = ({ product }) => _factoryParams.isInCart({\n    currentCart: cart.value,\n    product,\n  });\n\n  const applyCoupon = async ({\n    couponCode,\n    customQuery,\n  }) => {\n    Logger.debug('useCart.applyCoupon');\n\n    try {\n      loading.value = true;\n      const { updatedCart } = await _factoryParams.applyCoupon({\n        currentCart: cart.value,\n        couponCode,\n        customQuery,\n      });\n      error.value.applyCoupon = null;\n      cart.value = updatedCart;\n    } catch (err) {\n      error.value.applyCoupon = err;\n      Logger.error('useCart/applyCoupon', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const removeCoupon = async ({\n    couponCode,\n    customQuery,\n  }) => {\n    Logger.debug('useCart.removeCoupon');\n\n    try {\n      loading.value = true;\n      const { updatedCart } = await _factoryParams.removeCoupon({\n        currentCart: cart.value,\n        couponCode,\n        customQuery,\n      });\n      error.value.removeCoupon = null;\n      cart.value = updatedCart;\n      loading.value = false;\n    } catch (err) {\n      error.value.removeCoupon = err;\n      Logger.error('useCart/removeCoupon', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    api: _factoryParams.api,\n    setCart,\n    cart: computed(() => cart.value),\n    totalQuantity,\n    isInCart,\n    addItem,\n    load,\n    loadTotalQty,\n    removeItem,\n    clear,\n    updateItemQty,\n    applyCoupon,\n    removeCoupon,\n    loading: computed(() => loading.value),\n    error: computed(() => error.value),\n  };\n};\n","/* istanbul ignore file */\n/* eslint-disable no-param-reassign */\nimport {\n  ComposableFunctionArgs,\n  Context,\n  Logger,\n} from '@vue-storefront/core';\nimport {\n  AddConfigurableProductsToCartInput,\n  AddDownloadableProductsToCartInput,\n  AddVirtualProductsToCartInput,\n  AddProductsToCartInput,\n  Cart,\n  CartItem,\n  Product,\n  RemoveItemFromCartInput,\n  UpdateCartItemsInput,\n} from '@vue-storefront/magento-api';\nimport {\n  UseCartFactoryParams,\n  useCartFactory,\n} from '../../factories/useCartFactory';\n\nconst factoryParams: UseCartFactoryParams<Cart, CartItem, Product> = {\n  load: async (context: Context, params: ComposableFunctionArgs<{\n    realCart?: boolean;\n  }>) => {\n    const apiState = context.$magento.config.state;\n    Logger.debug('[Magento Storefront]: Loading Cart');\n\n    const customerToken = apiState.getCustomerToken();\n    const virtual = !params.realCart;\n\n    const createVirtualCart = () => (null as Cart);\n\n    const createRealCart = async (): Promise<string> => {\n      Logger.debug('[Magento Storefront]: useCart.load.createNewCart');\n\n      apiState.setCartId();\n\n      const { data } = await context.$magento.api.createEmptyCart();\n      Logger.debug('[Result]:', { data });\n\n      apiState.setCartId(data.createEmptyCart);\n\n      return data.createEmptyCart;\n    };\n\n    const getCartData = async (id: string) => {\n      Logger.debug('[Magento Storefront]: useCart.load.getCartData ID->', id);\n\n      const { data, errors } = await context.$magento.api.cart(id);\n      Logger.debug('[Result]:', { data });\n\n      if (!data?.cart && errors?.length) {\n        throw errors[0];\n      }\n\n      data.cart.items = data.cart.items.filter(Boolean);\n      return data.cart as unknown as Cart;\n    };\n\n    const getCart = async (virtualCart: boolean, cartId?: string) => {\n      if (!cartId) {\n        if (virtualCart) {\n          return createVirtualCart();\n        }\n\n        cartId = await createRealCart();\n        apiState.setCartId(cartId);\n      }\n\n      return getCartData(cartId);\n    };\n\n    // Try to load cart for existing customer, clean customer token if not possible\n    if (customerToken) {\n      try {\n        const { data, errors } = await context.$magento.api.customerCart();\n        Logger.debug('[Result]:', { data, errors });\n\n        if (!data?.customerCart && errors?.length) {\n          throw errors[0];\n        }\n\n        apiState.setCartId(data.customerCart.id);\n        data.customerCart.items = data.customerCart.items.filter(Boolean);\n\n        return data.customerCart as unknown as Cart;\n      } catch {\n        apiState.setCustomerToken();\n      }\n    }\n\n    try {\n      // If it's not existing customer check if cart id is set and try to load it\n      const cartId = apiState.getCartId();\n      return await getCart(virtual, cartId);\n    } catch {\n      apiState.setCartId();\n      return await getCart(virtual);\n    }\n  },\n\n  addItem: async (context: Context, {\n    product,\n    quantity,\n    currentCart,\n    customQuery,\n  }) => {\n    Logger.debug('[Magento]: Add item to cart', {\n      product,\n      quantity,\n      currentCart,\n    });\n\n    const apiState = context.$magento.config.state;\n    let currentCartId = apiState.getCartId();\n    if (!currentCartId) {\n      await factoryParams.load(context, {\n        realCart: true,\n      });\n\n      currentCartId = apiState.getCartId();\n    }\n\n    if (!product) {\n      return;\n    }\n    try {\n      // @ts-ignore\n      // eslint-disable-next-line no-underscore-dangle\n      switch (product.__typename) {\n        case 'SimpleProduct':\n          const simpleCartInput: AddProductsToCartInput = {\n            cartId: currentCartId,\n            cartItems: [\n              {\n                quantity,\n                sku: product.sku,\n              },\n            ],\n          };\n\n          const simpleProduct = await context.$magento.api.addProductsToCart(simpleCartInput);\n\n          Logger.debug('[Result]:', { data: simpleProduct });\n\n          // eslint-disable-next-line consistent-return\n          return simpleProduct\n            .data\n            .addProductsToCart\n            .cart as unknown as Cart;\n        case 'ConfigurableProduct':\n          const cartItems = [\n            {\n              parent_sku: product.sku,\n              data: {\n                quantity,\n                sku: product.configurable_product_options_selection?.variant?.sku || '',\n              },\n            },\n          ];\n\n          const configurableCartInput: AddConfigurableProductsToCartInput = {\n            cart_id: currentCartId,\n            cart_items: cartItems,\n          };\n\n          const configurableProduct = await context.$magento.api.addConfigurableProductsToCart(configurableCartInput);\n\n          Logger.debug('[Result]:', { data: configurableProduct });\n\n          // eslint-disable-next-line consistent-return\n          return configurableProduct\n            .data\n            .addConfigurableProductsToCart\n            .cart as unknown as Cart;\n        case 'BundleProduct':\n          const createEnteredOptions = () =>\n            // @ts-ignore\n            // eslint-disable-next-line implicit-arrow-linebreak\n            product.bundle_options.map((bundleOption) => ({\n              ...bundleOption,\n              value: bundleOption.value.toString(),\n            }));\n\n          const bundleCartInput: AddProductsToCartInput = {\n            cartId: currentCartId,\n            cartItems: [\n              {\n                quantity,\n                sku: product.sku,\n                entered_options: createEnteredOptions(),\n              },\n            ],\n          };\n\n          const bundleProduct = await context.$magento.api.addProductsToCart(bundleCartInput);\n\n          Logger.debug('[Result]:', { data: bundleProduct });\n\n          // eslint-disable-next-line consistent-return\n          return bundleProduct\n            .data\n            .addProductsToCart\n            .cart as unknown as Cart;\n        case 'DownloadableProduct':\n          const downloadableCartItems = [\n            {\n              data: {\n                quantity,\n                sku: product.sku,\n              },\n              downloadable_product_links: product.downloadable_product_links.map((dpl) => ({ link_id: dpl.id })),\n            },\n          ];\n\n          const downloadableCartInput: AddDownloadableProductsToCartInput = {\n            cart_id: currentCartId,\n            cart_items: downloadableCartItems,\n          };\n\n          const downloadableProduct = await context.$magento.api.addDownloadableProductsToCart(downloadableCartInput);\n\n          Logger.debug('[Result DownloadableProduct]:', { data: downloadableProduct });\n\n          // eslint-disable-next-line consistent-return\n          return downloadableProduct\n            .data\n            .addDownloadableProductsToCart\n            .cart as unknown as Cart;\n        case 'VirtualProduct':\n          const virtualCartInput: AddVirtualProductsToCartInput = {\n            cart_id: currentCartId,\n            cart_items: [\n              {\n                data: {\n                  quantity,\n                  sku: product.sku,\n                },\n              },\n            ],\n          };\n          const virtualProduct = await context.$magento.api.addVirtualProductsToCart(virtualCartInput);\n\n          Logger.debug('[Result VirtualProduct]:', { data: virtualProduct });\n\n          // eslint-disable-next-line consistent-return\n          return virtualProduct\n            .data\n            .addVirtualProductsToCart\n            .cart as unknown as Cart;\n        default:\n          // todo implement other options\n          // @ts-ignore\n          // eslint-disable-next-line no-underscore-dangle\n          throw new Error(`Product Type ${product.__typename} not supported in add to cart yet`);\n      }\n    } catch {\n      await factoryParams.clear(context, null);\n\n      await factoryParams.addItem(context, {\n        product,\n        quantity,\n        currentCart,\n        customQuery,\n      });\n    }\n  },\n  removeItem: async (context: Context, {\n    currentCart,\n    product,\n  }) => {\n    Logger.debug('[Magento]: Remove item from cart', {\n      product,\n      currentCart,\n    });\n\n    const item = currentCart.items.find((cartItem) => cartItem.uid === product.uid);\n\n    if (!item) {\n      return;\n    }\n\n    const removeItemParams: RemoveItemFromCartInput = {\n      cart_id: currentCart.id,\n      cart_item_uid: item.uid,\n    };\n\n    const { data } = await context.$magento.api.removeItemFromCart(removeItemParams);\n\n    Logger.debug('[Result]:', { data });\n\n    // eslint-disable-next-line consistent-return\n    return data\n      .removeItemFromCart\n      .cart as unknown as Cart;\n  },\n\n  updateItemQty: async (context: Context, {\n    currentCart,\n    product,\n    quantity,\n  }) => {\n    Logger.debug('[Magento]: Update product quantity on cart', {\n      product,\n      quantity,\n      currentCart,\n    });\n\n    const updateCartParams: UpdateCartItemsInput = {\n      cart_id: currentCart.id,\n      cart_items: [\n        {\n          cart_item_uid: product.uid,\n          quantity,\n        },\n      ],\n    };\n\n    try {\n      const { data } = await context.$magento.api.updateCartItems(updateCartParams);\n\n      Logger.debug('[Result]:', { data });\n\n      return data\n        .updateCartItems\n        .cart as unknown as Cart;\n    } catch {\n      // If we can't change quantity, the card could be expired on Magento side, try to reload\n      return await factoryParams.load(context, {\n        realCart: true,\n      });\n    }\n  },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  clear: async (context: Context, _params = null) => {\n    context.$magento.config.state.setCartId();\n\n    return factoryParams.load(context, {});\n  },\n  applyCoupon: async (context: Context, {\n    currentCart,\n    couponCode,\n  }) => {\n    Logger.debug('[Magento]: Apply coupon on cart', {\n      couponCode,\n      currentCart,\n    });\n\n    const { data } = await context.$magento.api.applyCouponToCart({\n      cart_id: currentCart.id,\n      coupon_code: couponCode,\n    });\n\n    Logger.debug('[Result]:', { data });\n\n    return {\n      updatedCart: data.applyCouponToCart.cart as unknown as Cart,\n      updatedCoupon: { code: couponCode },\n    };\n  },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeCoupon: async (context: Context, { currentCart }) => {\n    Logger.debug('[Magento]: Remove coupon from cart', { currentCart });\n\n    const { data } = await context.$magento.api.removeCouponFromCart({\n      cart_id: currentCart.id,\n    });\n\n    Logger.debug('[Result]:', { data });\n\n    return {\n      updatedCart: data.removeCouponFromCart.cart as unknown as Cart,\n      updatedCoupon: { code: '' },\n    };\n  },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isInCart: (\n    context: Context,\n    {\n      currentCart,\n      product,\n    },\n  ) => !!currentCart?.items.find((cartItem) => cartItem?.product?.uid === product.uid),\n  loadTotalQty: async (context: Context) => {\n    const apiState = context.$magento.config.state;\n    if (apiState.getCartId()) {\n      const { data } : any = await context.$magento.api.cartTotalQty(apiState.getCartId());\n\n      return data?.cart?.total_quantity ?? 0;\n    }\n\n    return 0;\n  },\n};\n\nexport default useCartFactory<Cart, CartItem, Product>(factoryParams);\n","import {\n  Context,\n  Logger,\n  useShippingProviderFactory,\n  UseShippingProviderParams,\n} from '@vue-storefront/core';\nimport {\n  SetShippingMethodsOnCartInput, ShippingMethodInput,\n} from '@vue-storefront/magento-api';\nimport useCart from '../useCart';\n\nconst factoryParams: UseShippingProviderParams<any, ShippingMethodInput> = {\n  provide() {\n    return {\n      cart: useCart(),\n    };\n  },\n  load: async (context: Context, { customQuery }) => {\n    Logger.debug('[Magento] loadShippingProvider', { customQuery });\n\n    if (!context.cart.cart?.value?.shipping_addresses[0]?.selected_shipping_method) {\n      await context.cart.load({ customQuery });\n    }\n\n    return context\n      .cart\n      .cart\n      .value?.shipping_addresses[0]?.selected_shipping_method;\n  },\n\n  save: async (context: Context, params) => {\n    Logger.debug('[Magento] saveShippingProvider', { params });\n\n    const shippingMethodParams: SetShippingMethodsOnCartInput = {\n      cart_id: context.cart.cart.value.id,\n      shipping_methods: [{\n        ...params.shippingMethod,\n      }],\n    };\n\n    const { data } = await context.$magento.api.setShippingMethodsOnCart(shippingMethodParams);\n\n    Logger.debug('[Result]:', { data });\n\n    const { cart } = data\n      .setShippingMethodsOnCart;\n\n    context.cart.setCart(cart);\n\n    return cart\n      .shipping_addresses[0]\n      .selected_shipping_method;\n  },\n};\n\nexport default useShippingProviderFactory<any, ShippingMethodInput>(factoryParams);\n","import {\n  Context,\n  Logger,\n  useBillingFactory,\n  UseBillingParams,\n} from '@vue-storefront/core';\nimport {\n  SetBillingAddressOnCartInput,\n} from '@vue-storefront/magento-api';\nimport useCart from '../useCart';\nimport useShippingProvider from '../useShippingProvider';\n\nconst factoryParams: UseBillingParams<any, any> = {\n  provide() {\n    return {\n      useShippingProvider: useShippingProvider(),\n      cart: useCart(),\n    };\n  },\n\n  load: async (context: Context, { customQuery }) => {\n    Logger.debug('[Magento] loadBilling');\n\n    if (!context.cart.cart?.value?.billing_address) {\n      await context.cart.load({ customQuery });\n    }\n\n    return context?.cart?.cart?.value?.billing_address ?? {};\n  },\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  save: async (context: Context, params) => {\n    Logger.debug('[Magento] setBillingAddress');\n    const { id } = context.cart.cart.value;\n\n    const {\n      apartment,\n      neighborhood,\n      extra,\n      sameAsShipping,\n      customerAddressId,\n      ...address\n    } = params.billingDetails;\n\n    const billingData = customerAddressId\n      ? ({\n        customer_address_id: customerAddressId,\n      })\n      : ({\n        address: {\n          ...address,\n          street: [address.street, apartment, neighborhood, extra].filter(Boolean),\n        },\n        same_as_shipping: sameAsShipping,\n      });\n\n    const setBillingAddressOnCartInput: SetBillingAddressOnCartInput = {\n      cart_id: id,\n      billing_address: billingData,\n    };\n\n    const { data } = await context.$magento.api.setBillingAddressOnCart(\n      setBillingAddressOnCartInput,\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    /**\n     * This is a workaround needed due to Magento GraphQL API\n     * cleaning the Shipping method after defining the billing address\n     */\n    const shippingMethod = context.useShippingProvider.state.value;\n\n    Logger.debug('[Magento]: Defining the shipping method as:', JSON.stringify(shippingMethod, null, 2));\n\n    await context.useShippingProvider.save({\n      shippingMethod: {\n        carrier_code: shippingMethod.carrier_code,\n        method_code: shippingMethod.method_code,\n      },\n    });\n\n    /**\n     * End of GraphQL Workaround\n     */\n    return data?.setBillingAddressOnCart?.cart?.billing_address ?? {};\n  },\n};\n\nexport default useBillingFactory<any, any>(factoryParams);\n","import {\n  useCategoryFactory,\n  Context,\n  UseCategoryFactoryParams, Logger,\n} from '@vue-storefront/core';\nimport {\n  Category, CategoryListQueryVariables,\n} from '@vue-storefront/magento-api';\n\nconst factoryParams: UseCategoryFactoryParams<Category, CategoryListQueryVariables> = {\n  categorySearch: async (context: Context, params) => {\n    Logger.debug('[Magento]: List available categories', { params });\n\n    const { data } = await context.$magento.api.categoryList(params);\n\n    Logger.debug('[Result]:', { data });\n\n    return data.categories.items;\n  },\n};\n\nexport default useCategoryFactory<Category, CategoryListQueryVariables>(factoryParams);\n","import { computed } from '@vue/composition-api';\nimport {\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { ComposableFunctionArgs, PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseCategorySearch, UseCategorySearchErrors } from '../types/composables';\n\nexport interface UseCategorySearchFactory<CATEGORY, CATEGORY_SEARCH_PARAMS, API extends PlatformApi = any> extends FactoryParams<API> {\n  search: (context: Context, params: ComposableFunctionArgs<CATEGORY_SEARCH_PARAMS>) => Promise<CATEGORY[]>;\n}\n\nexport function useCategorySearchFactory<CATEGORY, CATEGORY_SEARCH_PARAMS, API extends PlatformApi = any>(\n  factoryParams: UseCategorySearchFactory<CATEGORY, CATEGORY_SEARCH_PARAMS, API>,\n) {\n  return function useCategorySearch(id: string = ''): UseCategorySearch<CATEGORY, CATEGORY_SEARCH_PARAMS, API> {\n    const ssrKey = id || 'useCategorySearch';\n    // @ts-ignore\n    const result = sharedRef<CATEGORY>([], `${ssrKey}-result`);\n    const loading = sharedRef(false, `${ssrKey}-loading`);\n    const error = sharedRef<UseCategorySearchErrors>({\n      search: null,\n    }, `${ssrKey}-error`);\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    // eslint-disable-next-line consistent-return\n    const search = async (params: ComposableFunctionArgs<CATEGORY_SEARCH_PARAMS>): Promise<CATEGORY[]> => {\n      Logger.debug(`useCategorySearch/${ssrKey}/search`);\n\n      try {\n        loading.value = true;\n\n        const data = await _factoryParams.search(params);\n\n        result.value = data;\n\n        error.value.search = null;\n\n        return data;\n      } catch (err) {\n        error.value.search = err;\n        Logger.error(`useCategorySearch/${ssrKey}/search`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      search,\n      result: computed(() => result.value),\n      loading: computed(() => loading.value),\n      error: computed(() => error.value),\n    };\n  };\n}\n","import {\n  Context, Logger,\n} from '@vue-storefront/core';\nimport { Category, CategorySearchQueryVariables } from '@vue-storefront/magento-api';\nimport { UseCategorySearchFactory, useCategorySearchFactory } from '../../factories/useCategorySearchFactory';\nimport { UseCategorySearch } from '../../types/composables';\n\nconst factoryParams: UseCategorySearchFactory<Category, CategorySearchQueryVariables> = {\n  search: async (context: Context, params): Promise<Category[]> => {\n    Logger.debug('[Magento]: Search for category using', { params });\n    const { filters } = params;\n    const { data } = await context.$magento.api.categorySearch({ filters });\n\n    Logger.debug('[Result]:', { data });\n\n    return data.categoryList;\n  },\n};\n\nconst useCategorySearch: (cacheId?: string) => UseCategorySearch<Category, CategorySearchQueryVariables> = useCategorySearchFactory<Category, CategorySearchQueryVariables>(factoryParams);\n\nexport default useCategorySearch;\n","import { computed } from '@vue/composition-api';\nimport {\n  Context,\n  sharedRef,\n  Logger,\n  configureFactoryParams, FactoryParams, ComposableFunctionArgs,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseConfig } from '../types/composables';\n\nexport interface UseConfigFactoryParams<CONFIG, API extends PlatformApi = any> extends FactoryParams<API>{\n  loadConfig: (context: Context, params?: ComposableFunctionArgs<{}>) => Promise<CONFIG>;\n}\n\nexport function useConfigFactory<CONFIG, API extends PlatformApi = any>(factoryParams: UseConfigFactoryParams<CONFIG, API>) {\n  return function useConfig(cacheId: string = ''): UseConfig<CONFIG, API> {\n    const ssrKey = cacheId || 'useConfigFactory';\n    // @ts-ignore\n    const config = sharedRef<CONFIG>({}, `${ssrKey}-config`);\n    const loading = sharedRef<boolean>(false, `${ssrKey}-loading`);\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    const loadConfig = async (params?: ComposableFunctionArgs<{}>) => {\n      Logger.debug(`useConfig/${ssrKey}/loadConfig`);\n      loading.value = true;\n      try {\n        config.value = await _factoryParams.loadConfig(params);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      loadConfig,\n      config: computed(() => config.value),\n      loading: computed(() => loading.value),\n    };\n  };\n}\n","import {Context, Logger} from '@vue-storefront/core';\nimport { StoreConfig } from '@vue-storefront/magento-api';\nimport { useConfigFactory, UseConfigFactoryParams } from '../../factories/useConfigFactory';\nimport { UseConfig } from '../../types/composables';\n\nconst factoryParams: UseConfigFactoryParams<StoreConfig> = {\n  loadConfig: async (context: Context) => {\n    const { data } = await context.$magento.api.storeConfig();\n\n    Logger.debug('[Magento] useConfig:loadConfig data', { data });\n\n    return data.storeConfig || {};\n  },\n};\n\nconst useConfig: (cacheId?: string) => UseConfig<StoreConfig> = useConfigFactory<StoreConfig>(factoryParams);\n\nexport default useConfig;\n","import { computed, Ref } from '@vue/composition-api';\nimport {\n  ComposableFunctionArgs,\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseContentErrors, UseContent } from '../types/composables';\n\nexport interface UseContentFactoryParams<CONTENT, BLOCK, API extends PlatformApi = any> extends FactoryParams<API>{\n  loadContent: (context: Context, params: ComposableFunctionArgs<{ identifier: string }>) => Promise<CONTENT>;\n  loadBlocks: (context: Context, params: ComposableFunctionArgs<{ identifiers: string[] }>) => Promise<BLOCK[]>;\n}\n\nexport function useContentFactory<CONTENT, BLOCK, API extends PlatformApi = any>(\n  factoryParams: UseContentFactoryParams<CONTENT, BLOCK, API>,\n) {\n  return function useContent(ssrKey = 'useConfigFactory'): UseContent<CONTENT, BLOCK, API> {\n    // @ts-ignore\n    const page = sharedRef<CONTENT>({}, `useContent-content-${ssrKey}`);\n    const errors: Ref<UseContentErrors> = sharedRef({\n      content: null,\n      blocks: null,\n    }, 'useContent-error');\n    const blocks = sharedRef<BLOCK[]>([], `useContent-blocks-${ssrKey}`);\n    const loading = sharedRef<boolean>(false, `useContent-loading-${ssrKey}`);\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    const loadContent = async (params: ComposableFunctionArgs<{ identifier: string }>) => {\n      Logger.debug(`useContent/${ssrKey}/loadPage`);\n      loading.value = true;\n\n      try {\n        errors.value.content = null;\n        page.value = await _factoryParams.loadContent(params);\n      } catch (error) {\n        errors.value.content = error;\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const loadBlocks = async (params: ComposableFunctionArgs<{ identifiers: string[] }>) => {\n      Logger.debug(`useContent/${ssrKey}/loadBlocks`);\n      loading.value = true;\n\n      try {\n        errors.value.blocks = null;\n        blocks.value = await _factoryParams.loadBlocks(params);\n      } catch (error) {\n        errors.value.blocks = error;\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      loadContent,\n      loadBlocks,\n      loading: computed(() => loading.value),\n      page: computed(() => page.value),\n      blocks: computed(() => blocks.value),\n      error: computed(() => errors.value),\n    };\n  };\n}\n","import { Context, Logger } from '@vue-storefront/core';\nimport { Page, CmsBlock } from '@vue-storefront/magento-api';\nimport { useContentFactory, UseContentFactoryParams } from '../../factories/useContentFactory';\n\nconst factoryParams: UseContentFactoryParams<Page, CmsBlock> = {\n  loadContent: async (context: Context, params) => {\n    Logger.debug('[Magento]: Load CMS Page content', { params });\n\n    const { data } = await context.$magento.api.cmsPage(params.identifier);\n\n    Logger.debug('[Result]:', { data });\n\n    return data.cmsPage;\n  },\n  loadBlocks: async (context: Context, params) => {\n    Logger.debug('[Magento]: Load CMS Blocks content', { params });\n\n    const { data } = await context.$magento.api.cmsBlocks(params.identifiers);\n\n    Logger.debug('[Result]:', { data });\n\n    return data.cmsBlocks.items;\n  },\n};\n\nexport default useContentFactory<Page, CmsBlock>(factoryParams);\n","import { computed } from '@vue/composition-api';\nimport {\n  Context,\n  sharedRef,\n  Logger,\n  configureFactoryParams, FactoryParams, ComposableFunctionArgs,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseCountrySearch, UseCountrySearchErrors } from '../types/composables';\n\nexport interface UseCountryFactoryParams<COUNTRIES, COUNTRY, API extends PlatformApi = any> extends FactoryParams<API>{\n  load: (context: Context, params?: ComposableFunctionArgs<{}>) => Promise<COUNTRIES[]>;\n  search: (context: Context, params: ComposableFunctionArgs<{ id: string }>) => Promise<COUNTRY>;\n}\n\nexport function useCountrySearchFactory<COUNTRIES,\n  COUNTRY,\n  API extends PlatformApi = any>(factoryParams: UseCountryFactoryParams<COUNTRIES, COUNTRY, API>) {\n  return function useCountrySearch(cacheId: string = ''): UseCountrySearch<COUNTRIES, COUNTRY, API> {\n    const ssrKey = cacheId || 'useCountrySearchFactory';\n    const countries = sharedRef<COUNTRIES[]>([], `${ssrKey}-countries`);\n    // @ts-ignore\n    const country = sharedRef<COUNTRY>({}, `${ssrKey}-country`);\n    const loading = sharedRef<boolean>(false, `${ssrKey}-loading`);\n    const error = sharedRef<UseCountrySearchErrors>({\n      load: null,\n      search: null,\n    }, `${ssrKey}-error`);\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    // eslint-disable-next-line consistent-return\n    const load = async (params?: ComposableFunctionArgs<{}>): Promise<COUNTRIES[]> => {\n      Logger.debug(`useCountrySearch/${ssrKey}/load`);\n\n      try {\n        loading.value = true;\n\n        const data = await _factoryParams.load(params);\n\n        countries.value = data;\n\n        error.value.load = null;\n\n        return data;\n      } catch (err) {\n        error.value.load = err;\n        Logger.error(`useCountrySearch/${ssrKey}/load`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // eslint-disable-next-line consistent-return\n    const search = async (params: ComposableFunctionArgs<{ id: string }>): Promise<COUNTRY> => {\n      Logger.debug(`useCountrySearch/${ssrKey}/search`);\n\n      try {\n        loading.value = true;\n\n        const data = await _factoryParams.search(params);\n\n        country.value = data;\n\n        error.value.search = null;\n\n        return data;\n      } catch (err) {\n        error.value.search = err;\n        Logger.error(`useCountrySearch/${ssrKey}/search`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      load,\n      search,\n      countries: computed(() => countries.value),\n      country: computed(() => country.value),\n      loading: computed(() => loading.value),\n      error: computed(() => error.value),\n    };\n  };\n}\n","import {\n  Context, Logger,\n} from '@vue-storefront/core';\nimport { Countries, Country } from '@vue-storefront/magento-api';\nimport { UseCountryFactoryParams, useCountrySearchFactory } from '../../factories/useCountrySearchFactory';\nimport { UseCountrySearch } from '../../types/composables';\n\nconst factoryParams: UseCountryFactoryParams<Countries, Country> = {\n  load: async (context: Context, _params): Promise<Countries[]> => {\n    Logger.debug('[Magento]: Load available countries on store');\n\n    const { data } = await context.$magento.api.countries();\n\n    Logger.debug('[Result]:', { data });\n\n    return data.countries;\n  },\n  search: async (context: Context, params): Promise<Country> => {\n    Logger.debug('[Magento]: Search country information based on', { params });\n\n    const { data } = await context.$magento.api.country(params.id);\n\n    Logger.debug('[Result]:', { data });\n\n    return data.country;\n  },\n};\n\nconst useCountrySearch: (cacheId?: string) => UseCountrySearch<Countries, Country> = useCountrySearchFactory<Countries, Country>(factoryParams);\n\nexport default useCountrySearch;\n","import { computed } from '@vue/composition-api';\nimport {\n  Context,\n  sharedRef,\n  Logger,\n  configureFactoryParams,\n  FactoryParams, ComposableFunctionArgs,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseCurrency } from '../types/composables';\n\nexport interface UseCurrencyFactoryParams<CURRENCY, API extends PlatformApi = any> extends FactoryParams<API> {\n  load: (context: Context, params?: ComposableFunctionArgs<{}>) => Promise<CURRENCY>;\n  change: (context: Context, params: ComposableFunctionArgs<{ id: string }>) => void\n}\n\nexport function useCurrencyFactory<CURRENCY,\n  API extends PlatformApi = any>(factoryParams: UseCurrencyFactoryParams<CURRENCY, API>) {\n  return function useCurrency(cacheId: string = ''): UseCurrency<CURRENCY, API> {\n    const ssrKey = cacheId || 'useCurrencyFactory';\n    // @ts-ignore\n    const currencies = sharedRef<CURRENCY>([], `${ssrKey}-currencies`);\n    const loading = sharedRef<boolean>(false, `${ssrKey}-loading`);\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    const load = async (params?: ComposableFunctionArgs<{}>) => {\n      Logger.debug(`useCurrency/${ssrKey}/load`);\n      loading.value = true;\n      try {\n        currencies.value = await _factoryParams.load(params);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const change = async (params: ComposableFunctionArgs<{ id: string }>) => {\n      Logger.debug(`useCurrency/${ssrKey}/change`);\n      loading.value = true;\n      try {\n        await _factoryParams.change(params);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      load,\n      change,\n      currencies: computed(() => currencies.value),\n      loading: computed(() => loading.value),\n    };\n  };\n}\n","import { Context } from '@vue-storefront/core';\nimport { Currency } from '@vue-storefront/magento-api';\nimport { useCurrencyFactory, UseCurrencyFactoryParams } from '../../factories/useCurrencyFactory';\nimport { UseCurrency } from '../../types/composables';\n\nconst factoryParams: UseCurrencyFactoryParams<Currency, null> = {\n  load: async (context: Context, params): Promise<Currency> => {\n    const { data } = await context.$magento.api.currency();\n\n    return data.currency || {};\n  },\n\n  change: (context: Context, params) => {\n    context.$magento.config.state.setCurrency(params.id);\n  },\n};\n\nconst useCurrency: () => UseCurrency<Currency> = useCurrencyFactory<Currency>(factoryParams);\n\nexport default useCurrency;\n","import {\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { computed } from '@vue/composition-api';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseCustomMutation } from '../types/composables';\nimport { FetchPolicy } from '../types';\n\nexport interface UseCustomMutationFactoryFactoryParams<\n  MUTATION_VARIABLES,\n  MUTATION_RETURN,\n  API extends PlatformApi = any> extends FactoryParams<API> {\n  mutation: (context: Context, {\n    variables,\n    fetchPolicy,\n  }: {\n    variables: MUTATION_VARIABLES,\n    fetchPolicy?: FetchPolicy,\n  }) => Promise<MUTATION_RETURN>;\n}\n\nexport const useCustomMutationFactory = <MUTATION, MUTATION_VARIABLES, MUTATION_RETURN = any, API extends PlatformApi = any>(\n  factoryParams: UseCustomMutationFactoryFactoryParams<MUTATION_VARIABLES, MUTATION_RETURN, API>,\n) => function useCustomMutation(ssrKey = 'useCustomMutation'): UseCustomMutation<MUTATION, MUTATION_VARIABLES, MUTATION_RETURN, API> {\n  // @ts-ignore\n  const mutationString = sharedRef<MUTATION>('', `${ssrKey}-mutationString`);\n  const mutationStringComputed = computed(() => mutationString.value);\n  // @ts-ignore\n  const result = sharedRef<MUTATION_RETURN>({}, `${ssrKey}-result`);\n  const loading = sharedRef(false, `${ssrKey}-loading`);\n  const error = sharedRef({\n    query: null,\n  }, `${ssrKey}-error`);\n  // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n  const _factoryParams = configureFactoryParams(factoryParams);\n\n  // eslint-disable-next-line consistent-return\n  const mutation = async ({\n    variables,\n    fetchPolicy,\n  }: {\n    variables: MUTATION_VARIABLES,\n    fetchPolicy?: FetchPolicy,\n    // eslint-disable-next-line consistent-return\n  }) => {\n    Logger.debug(`useCustomMutation/${ssrKey}/mutation`);\n    loading.value = true;\n\n    try {\n      const data = await _factoryParams.mutation({\n        mutation: mutationStringComputed.value,\n        variables,\n        fetchPolicy,\n      });\n\n      result.value = data;\n\n      return data;\n    } catch (err) {\n      error.value.search = err;\n\n      Logger.error(`useCustomMutation/${ssrKey}/mutation`, err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    setMutationString: (newMutationString: string) => {\n      mutationString.value = newMutationString;\n    },\n    mutationString: mutationStringComputed,\n    mutation,\n    result: computed(() => result.value),\n    loading: computed(() => loading.value),\n    error: computed(() => error.value),\n  };\n};\n","import { Context, Logger } from '@vue-storefront/core';\nimport { FetchPolicy } from '../../types';\nimport { useCustomMutationFactory } from '../../factories/useMutationQueryFactory';\n\nexport default useCustomMutationFactory({\n  mutation: async (context: Context, {\n    mutation,\n    variables,\n    fetchPolicy,\n  }: {\n    mutation: string,\n    variables: any,\n    fetchPolicy?: Extract<FetchPolicy, 'network-only' | 'no-cache'>,\n    // eslint-disable-next-line consistent-return\n  }) => {\n    Logger.debug('[Magento] Custom API Mutation', { variables });\n\n    const result = await context.$magento.api.customMutation({\n      mutation,\n      mutationVariables: variables,\n      fetchPolicy,\n    });\n\n    Logger.debug('[Custom Mutation -> Result]:', result);\n\n    return result;\n  },\n});\n","import {\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { computed } from '@vue/composition-api';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { FetchPolicy } from '../types';\nimport { UseCustomQuery } from '../types/composables';\n\n/**\n * @deprecated Will be removed in 1.1.0 release\n * @use @vue-storefront/magento-theme/composables/useApi instead\n */\nexport interface UseCustomQueryFactoryFactoryParams<QUERY_VARIABLES, QUERY_RETURN, API extends PlatformApi = any> extends FactoryParams<API> {\n  query: (context: Context, {\n    variables,\n    fetchPolicy,\n  }: {\n    variables: QUERY_VARIABLES,\n    fetchPolicy?: FetchPolicy,\n  }) => Promise<QUERY_RETURN>;\n}\n\nexport const useCustomQueryFactory = <QUERY, QUERY_VARIABLES, QUERY_RETURN = any,\n  API extends PlatformApi = any>(\n  factoryParams: UseCustomQueryFactoryFactoryParams<QUERY_VARIABLES, QUERY_RETURN, API>,\n) => function useCustomQuery(ssrKey = 'useCustomQuery'): UseCustomQuery<QUERY, QUERY_VARIABLES, QUERY_RETURN, API> {\n  // @ts-ignore\n  const queryString = sharedRef<QUERY>('', `${ssrKey}-queryString`);\n  const queryStringComputed = computed(() => queryString.value);\n  // @ts-ignore\n  const result = sharedRef<QUERY_RETURN>({}, `${ssrKey}-result`);\n  const loading = sharedRef(false, `${ssrKey}-loading`);\n  const error = sharedRef({\n    query: null,\n  }, `${ssrKey}-error`);\n  // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n  const _factoryParams = configureFactoryParams(factoryParams);\n\n  // eslint-disable-next-line consistent-return\n  const query = async ({\n    variables,\n    fetchPolicy,\n  }: {\n    variables: QUERY_VARIABLES,\n    fetchPolicy?: FetchPolicy,\n    // eslint-disable-next-line consistent-return\n  }) => {\n    Logger.debug(`useCustomQuery/${ssrKey}/query`);\n    loading.value = true;\n\n    try {\n      const data = await _factoryParams.query({\n        query: queryStringComputed.value,\n        variables,\n        fetchPolicy,\n      });\n\n      result.value = data;\n\n      return data;\n    } catch (err) {\n      error.value.search = err;\n\n      Logger.error(`useCustomQuery/${ssrKey}/query`, err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    setQueryString: (newQueryString: string) => {\n      queryString.value = newQueryString;\n    },\n    queryString: queryStringComputed,\n    query,\n    result: computed(() => result.value),\n    loading: computed(() => loading.value),\n    error: computed(() => error.value),\n  };\n};\n","import { Context, Logger } from '@vue-storefront/core';\nimport {\n  useCustomQueryFactory,\n} from '../../factories/useCustomQueryFactory';\nimport { FetchPolicy } from '../../types';\n\n/**\n * @deprecated Will be removed in 1.1.0 release\n * @use @vue-storefront/magento-theme/composables/useApi instead\n */\nexport default useCustomQueryFactory({\n  query: async (context: Context, {\n    query,\n    variables,\n    fetchPolicy,\n  }: {\n    query: string,\n    variables: any,\n    fetchPolicy?: FetchPolicy,\n    // eslint-disable-next-line consistent-return\n  }) => {\n    Logger.debug('[Magento] Custom API Query', { variables });\n\n    const result = await context.$magento.api.customQuery({\n      query,\n      queryVariables: variables,\n      fetchPolicy,\n    });\n\n    Logger.debug('[Custom Query -> Result]:', result);\n\n    return result;\n  },\n});\n","import {\n  ComposableFunctionArgs,\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { computed } from '@vue/composition-api';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseExternalCheckout } from '../types/composables';\n\nexport interface UseExternalCheckoutFactoryParams<API extends PlatformApi = any> extends FactoryParams<API> {\n  initializeCheckout: (context: Context, params: ComposableFunctionArgs<{ baseUrl: string }>) => Promise<string>;\n}\n\nexport const useExternalCheckoutFactory = <API extends PlatformApi = any>(\n  factoryParams: UseExternalCheckoutFactoryParams<API>,\n) => {\n  function useExternalCheckout(ssrKey = 'useExternalCheckout'): UseExternalCheckout<API> {\n    const loading = sharedRef(false, `${ssrKey}-loading`);\n    const error = sharedRef({\n      search: null,\n    }, `${ssrKey}-error`);\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    // eslint-disable-next-line @typescript-eslint/require-await,consistent-return\n    const initializeCheckout = async (params: ComposableFunctionArgs<{ baseUrl: string }>): Promise<string> => {\n      Logger.debug(`useExternalCheckout/${ssrKey}/initializeCheckout`);\n      loading.value = true;\n\n      try {\n        return _factoryParams.initializeCheckout(params);\n      } catch (err) {\n        error.value.search = err;\n\n        Logger.error(`useExternalCheckout/${ssrKey}/initializeCheckout`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      initializeCheckout,\n      loading: computed(() => loading.value),\n      error: computed(() => error.value),\n    };\n  }\n\n  return useExternalCheckout;\n};\n","import { Context, Logger } from '@vue-storefront/core';\nimport { useExternalCheckoutFactory, UseExternalCheckoutFactoryParams } from '../../factories/useExternalCheckoutFactory';\nimport useCart from '../useCart';\n// import useConfig from '../useConfig';\n\nconst factoryParams: UseExternalCheckoutFactoryParams = {\n  provide() {\n    return {\n      cart: useCart(),\n    };\n  },\n  initializeCheckout: async (context: Context, params) => {\n    Logger.debug('[Magento]: Initialize external checkout', { params });\n\n    const { externalCheckout, state } = context.$magento.config;\n\n    const userToken = state.getCustomerToken();\n    const cartToken = state.getCartId();\n\n    Logger.debug({ userToken, cartToken });\n\n    if (externalCheckout.enable) {\n      if (userToken && cartToken) {\n        // @TODO: Implements Multiple Store\n        /* if (Object.keys(externalCheckout.stores).length) {\n\n        } */\n        window.location.replace(`${externalCheckout.cmsUrl}${externalCheckout.syncUrlPath}/token/${userToken}/cart/${cartToken}`);\n        return '';\n      }\n\n      window.location.replace(`${externalCheckout.cmsUrl}${externalCheckout.syncUrlPath}/token//cart/${cartToken}`);\n      return '';\n    }\n\n    return params.baseUrl;\n  },\n};\n\nexport default useExternalCheckoutFactory(factoryParams);\n","import {\n  ComposableFunctionArgs,\n  Context,\n  FacetSearchResult, Logger,\n  ProductsSearchParams,\n  useFacetFactory,\n} from '@vue-storefront/core';\nimport { GetProductSearchParams } from '@vue-storefront/magento-api/src/types/API';\n\nconst availableSortingOptions = [\n  {\n    label: 'Sort: Default',\n    value: '',\n  },\n  {\n    label: 'Sort: Name A-Z',\n    value: 'name_ASC',\n  },\n  {\n    label: 'Sort: Name Z-A',\n    value: 'name_DESC',\n  },\n  {\n    label: 'Sort: Price from low to high',\n    value: 'price_ASC',\n  }, {\n    label: 'Sort: Price from high to low',\n    value: 'price_DESC',\n  },\n];\n\nconst constructFilterObject = (inputFilters: Object) => {\n  const filter = {};\n\n  Object.keys(inputFilters).forEach((key) => {\n    if (key === 'price') {\n      const price = { from: 0, to: 0 };\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      const flatPrices = inputFilters[key].flatMap((inputFilter) => inputFilter.split('_').map((str) => Number.parseFloat(str))).sort((a, b) => a - b);\n\n      [price.from] = flatPrices;\n      price.to = flatPrices[flatPrices.length - 1];\n\n      filter[key] = price;\n    } else if (typeof inputFilters[key] === 'string') {\n      filter[key] = { in: [inputFilters[key]] };\n    } else {\n      filter[key] = { in: inputFilters[key] };\n    }\n  });\n\n  return filter;\n};\n\nconst constructSortObject = (sortData: string) => {\n  const baseData = sortData.split(/_/gi);\n\n  return baseData.length > 0 ? Object.fromEntries([baseData]) : {};\n};\n\nconst factoryParams = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  search: async (context: Context, params: ComposableFunctionArgs<FacetSearchResult<any>>) => {\n    Logger.debug('[Magento] Load product facets', { params });\n\n    const itemsPerPage = (params.input.itemsPerPage) ? params.input.itemsPerPage : 20;\n    const inputFilters = (params.input.filters) ? params.input.filters : {};\n    const categoryId = (params.input.categoryId) ? {\n      category_uid: {\n        ...(Array.isArray(params.input.categoryId)\n          ? { in: params.input.categoryId }\n          : { eq: params.input.categoryId }),\n      },\n    } : {};\n\n    const productParams: ProductsSearchParams = {\n      filter: {\n        ...categoryId,\n        ...constructFilterObject({\n          ...inputFilters,\n        }),\n      },\n      perPage: itemsPerPage,\n      offset: (params.input.page - 1) * itemsPerPage,\n      page: params.input.page,\n      search: (params.input.term) ? params.input.term : '',\n      sort: constructSortObject(params.input.sort || ''),\n    };\n\n    const productSearchParams: GetProductSearchParams = {\n      pageSize: productParams.perPage,\n      search: productParams.search,\n      filter: productParams.filter,\n      sort: productParams.sort,\n      currentPage: productParams.page,\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    const { data } = await context.$magento.api.products(productSearchParams, params?.input.customQuery || { products: 'products' });\n\n    Logger.debug('[Result]:', { data });\n\n    return {\n      items: data?.products?.items || [],\n      total: data?.products?.total_count,\n      availableFilters: data?.products?.aggregations,\n      category: { id: params.input.categoryId },\n      availableSortingOptions,\n      perPageOptions: [10, 20, 50],\n      itemsPerPage,\n    };\n  },\n};\n\nexport default useFacetFactory<any>(factoryParams);\n","import {\n  Context, Logger,\n  useForgotPasswordFactory,\n} from '@vue-storefront/core';\nimport { UseForgotPasswordFactoryParams } from '../../factories/useForgotPasswordFactory';\n\nconst factoryParams: UseForgotPasswordFactoryParams<any> = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  resetPassword: async (context: Context, params) => {\n    Logger.debug('[Magento]: Reset user password', { params });\n\n    const { data } = await context.$magento.api.requestPasswordResetEmail({ email: params.email, recaptchaToken: params.recaptchaToken });\n\n    Logger.debug('[Result]:', { data });\n\n    return data;\n  },\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setNewPassword: async (context: Context, params) => {\n    Logger.debug('[Magento]: Define new user password', { params });\n\n    const { data } = await context.$magento.api.resetPassword({\n      email: params.email,\n      newPassword: params.newPassword,\n      resetPasswordToken: params.tokenValue,\n      recaptchaToken: params.recaptchaToken,\n    });\n\n    Logger.debug('[Result]:', { data });\n\n    return data;\n  },\n};\n\nexport const useForgotPassword = useForgotPasswordFactory<any>(factoryParams);\nexport default useForgotPassword;\n","import { computed, Ref } from '@vue/composition-api';\nimport {\n  ComposableFunctionArgs,\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseGetShippingMethods, UseGetShippingMethodsErrors } from '../types/composables';\n\nexport interface UseGetShippingMethodsFactory<SHIPPING_METHOD, API extends PlatformApi = any> extends FactoryParams<API> {\n  load: (context: Context, params: ComposableFunctionArgs<{ cartId: string }>) => Promise<SHIPPING_METHOD[]>;\n}\n\nexport function useGetShippingMethodsFactory<SHIPPING_METHOD, API extends PlatformApi = any>(\n  factoryParams: UseGetShippingMethodsFactory<SHIPPING_METHOD, API>,\n) {\n  return function useGetShippingMethods(id: string = ''): UseGetShippingMethods<SHIPPING_METHOD, API> {\n    // @ts-ignore\n    const state: Ref<SHIPPING_METHOD[]> = sharedRef(null, 'UseGetShippingMethods-response');\n    const ssrKey = id || 'useGetShippingMethods';\n    const loading = sharedRef(false, `${ssrKey}-loading`);\n    const error = sharedRef<UseGetShippingMethodsErrors>({\n      load: null,\n    }, `${ssrKey}-error`);\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    // eslint-disable-next-line consistent-return\n    const load = async (params: ComposableFunctionArgs<{ cartId: string }>): Promise<SHIPPING_METHOD[]> => {\n      Logger.debug(`useGetShippingMethods/${ssrKey}/load`, { params });\n\n      try {\n        loading.value = true;\n\n        const data = await _factoryParams.load(params);\n\n        state.value = data;\n\n        error.value.search = null;\n\n        return data;\n      } catch (err) {\n        error.value.search = err;\n        Logger.error(`useGetShippingMethods/${ssrKey}/load`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const setState = (newState: SHIPPING_METHOD[]) => {\n      state.value = newState;\n      Logger.debug('useGetShippingMethods.setState', newState);\n    };\n\n    return {\n      state,\n      setState,\n      load,\n      result: computed(() => state.value),\n      loading: computed(() => loading.value),\n      error: computed(() => error.value),\n    };\n  };\n}\n","import {\n  Context, Logger,\n} from '@vue-storefront/core';\nimport { ShippingMethod } from '@vue-storefront/magento-api';\nimport { UseGetShippingMethods } from '../../types/composables';\nimport { UseGetShippingMethodsFactory, useGetShippingMethodsFactory } from '../../factories/useGetShippingMethodsFactory';\n\nconst factoryParams: UseGetShippingMethodsFactory<ShippingMethod> = {\n  load: async (context: Context, params): Promise<ShippingMethod[]> => {\n    Logger.debug('[Magento]: Load shipping methods', { params });\n    const isGuest = params.cartId;\n\n    if (isGuest) {\n      const { data } = await context.$magento.api.getAvailableShippingMethods({ cartId: params.cartId });\n\n      Logger.debug('[Result]:', { data });\n\n      const hasAddresses = data.cart.shipping_addresses.length > 0;\n\n      return hasAddresses ? data.cart.shipping_addresses[0].available_shipping_methods : [];\n    }\n\n    const { data } = await context.$magento.api.getAvailableCustomerShippingMethods();\n\n    Logger.debug('[Result]:', { data });\n\n    const hasAddresses = data.customerCart.shipping_addresses.length > 0;\n\n    return hasAddresses ? data?.customerCart?.shipping_addresses[0]?.available_shipping_methods : [];\n  },\n};\n\nconst useGetShippingMethods:\n(cacheId?: string) => UseGetShippingMethods<ShippingMethod> = useGetShippingMethodsFactory<ShippingMethod>(factoryParams);\n\nexport default useGetShippingMethods;\n","import { Ref, computed } from '@vue/composition-api';\nimport {\n  Context,\n  configureFactoryParams,\n  FactoryParams,\n  Logger,\n  sharedRef, ComposableFunctionArgs,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseGuestUser, UseGuestUserErrors } from '../types/composables';\n\nexport interface UseGuestUserFactoryParams<GUEST_USER,\n  REGISTER_GUEST_USER_PARAMS,\n  API extends PlatformApi = any> extends FactoryParams<API> {\n  attachToCart: (context: Context, params: ComposableFunctionArgs<REGISTER_GUEST_USER_PARAMS>) => Promise<GUEST_USER>;\n}\n\nexport const useGuestUserFactory = <GUEST_USER,\n  REGISTER_GUEST_USER_PARAMS extends { email: string; password: string },\n  API extends PlatformApi = any>(\n  factoryParams: UseGuestUserFactoryParams<GUEST_USER, REGISTER_GUEST_USER_PARAMS, API>,\n) => function useGuestUser(): UseGuestUser<GUEST_USER, REGISTER_GUEST_USER_PARAMS, API> {\n  const errorsFactory = (): UseGuestUserErrors => ({\n    attachToCart: null,\n  });\n\n  const guestUser: Ref<GUEST_USER> = sharedRef(null, 'useGuestUser-user');\n  const loading: Ref<boolean> = sharedRef(false, 'useGuestUser-loading');\n  // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n  const _factoryParams = configureFactoryParams(factoryParams);\n  const error: Ref<UseGuestUserErrors> = sharedRef(errorsFactory(), 'useGuestUser-error');\n\n  const setGuestUser = (newUser: GUEST_USER) => {\n    guestUser.value = newUser;\n    Logger.debug('useGuestUserFactory.setGuestUser', newUser);\n  };\n\n  const resetErrorValue = () => {\n    error.value = errorsFactory();\n  };\n\n  const attachToCart = async (params: ComposableFunctionArgs<REGISTER_GUEST_USER_PARAMS>) => {\n    Logger.debug('useGuestUserFactory.attachToCart', { params });\n    resetErrorValue();\n\n    try {\n      loading.value = true;\n      guestUser.value = await _factoryParams.attachToCart(params);\n      error.value.attachToCart = null;\n    } catch (err) {\n      error.value.attachToCart = err;\n      Logger.error('useGuestUser/attachToCart', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    setGuestUser,\n    attachToCart,\n    guestUser: computed(() => guestUser.value),\n    loading: computed(() => loading.value),\n    error: computed(() => error.value),\n  };\n};\n","import { SetGuestEmailOnCartInput } from '@vue-storefront/magento-api';\nimport { Logger } from '@vue-storefront/core';\nimport { useGuestUserFactory, UseGuestUserFactoryParams } from '../../factories/useGuestUserFactory';\nimport useCart from '../useCart';\n\nconst factoryParams: UseGuestUserFactoryParams<any, SetGuestEmailOnCartInput> = {\n  provide() {\n    return {\n      cart: useCart(),\n    };\n  },\n  attachToCart: async (context, params) => {\n    Logger.debug('[Magento]: Attach guest cart to user');\n\n    const emailOnCartInput: SetGuestEmailOnCartInput = {\n      email: params.email,\n      cart_id: context.cart.cart.value.id,\n    };\n\n    await context.$magento.api.setGuestEmailOnCart({\n      ...emailOnCartInput,\n    });\n  },\n};\n\nexport default useGuestUserFactory<any, SetGuestEmailOnCartInput & { email:string;password:string }>(factoryParams);\n","import {\n  Context, Logger, UseMakeOrder, useMakeOrderFactory, UseMakeOrderFactoryParams,\n} from '@vue-storefront/core';\nimport { Order } from '@vue-storefront/magento-api';\nimport useCart from '../useCart';\n\nconst factoryParams: UseMakeOrderFactoryParams<Order> = {\n  provide() {\n    return {\n      cart: useCart(),\n    };\n  },\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  make: async (context: Context, params): Promise<Order> => {\n    Logger.debug('[Magento] Make Order', { params });\n    const { id } = context.cart.cart.value;\n    const { data } = await context.$magento.api.placeOrder({ cart_id: id });\n\n    Logger.debug('[Result]:', { data });\n\n    return data.placeOrder.order;\n  },\n};\n\nconst useMakeOrder: () => UseMakeOrder<Order> = useMakeOrderFactory<Order>(factoryParams);\n\nexport default useMakeOrder;\n","import { CustomerUpdateParameters } from '@vue-storefront/magento-api';\n\nexport const generateUserData = (userData): CustomerUpdateParameters => {\n  const baseData = {\n    email: userData.email,\n    firstname: userData.firstName || userData.firstname,\n    lastname: userData.lastName || userData.lastname,\n  } as CustomerUpdateParameters;\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'is_subscribed')) {\n    baseData.is_subscribed = userData.is_subscribed;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'dateOfBirth') || Object.prototype.hasOwnProperty.call(userData, 'date_of_birth')) {\n    baseData.date_of_birth = userData.dateOfBirth || userData.date_of_birth;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'gender')) {\n    baseData.gender = userData.gender;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'taxvat')) {\n    baseData.taxvat = userData.taxvat;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'prefix')) {\n    baseData.prefix = userData.prefix;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'suffix')) {\n    baseData.suffix = userData.suffix;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'password')) {\n    baseData.password = userData.password;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(userData, 'recaptchaToken')) {\n    baseData.recaptchaToken = userData.recaptchaToken;\n  }\n\n  return baseData;\n};\n","/* istanbul ignore file */\nimport {\n  Context, Logger,\n  useUserFactory,\n  UseUserFactoryParams as UserUserFactoryParamsBase,\n} from '@vue-storefront/core';\nimport { CustomerCreateInput, UpdateCustomerEmailMutationVariables } from '@vue-storefront/magento-api';\nimport { CustomQuery } from '@vue-storefront/core/lib/src/types';\nimport useCart from '../useCart';\nimport { generateUserData } from '../../helpers/userDataGenerator';\n\ninterface UseUserFactoryParams<USER, UPDATE_USER_PARAMS, REGISTER_USER_PARAMS>\n  extends UserUserFactoryParamsBase<USER, UPDATE_USER_PARAMS, REGISTER_USER_PARAMS> {\n  logIn: (context: Context, params: {\n    username: string;\n    password: string;\n    recaptchaToken?: string;\n    customQuery?: CustomQuery;\n  }) => Promise<USER>;\n\n  register: (context: Context, params: REGISTER_USER_PARAMS & {\n    customQuery?: CustomQuery;\n    recaptchaInstance?: any;\n  }) => Promise<USER>;\n}\n\nconst factoryParams: UseUserFactoryParams<\nany,\nUpdateCustomerEmailMutationVariables,\nCustomerCreateInput\n> = {\n  provide() {\n    return {\n      cart: useCart(),\n    };\n  },\n  load: async (context: Context) => {\n    Logger.debug('[Magento] Load user information');\n    const apiState = context.$magento.config.state;\n\n    if (!apiState.getCustomerToken()) {\n      return null;\n    }\n    try {\n      const { data } = await context.$magento.api.customer();\n\n      Logger.debug('[Result]:', { data });\n\n      return data?.customer ?? {};\n    } catch {\n      // eslint-disable-next-line no-void\n      // @ts-ignore\n      await factoryParams.logOut(context);\n    }\n\n    return null;\n  },\n  logOut: async (context: Context, params) => {\n    const apiState = context.$magento.config.state;\n\n    await context.$magento.api.revokeCustomerToken(params);\n\n    apiState.setCustomerToken();\n    apiState.setCartId();\n  },\n  updateUser: async (context: Context, params) => {\n    Logger.debug('[Magento] Update user information', { params });\n\n    const { email: oldEmail } = params.currentUser;\n    const { email, password, ...updateData } = params.updatedUserData;\n\n    const userData = generateUserData(updateData);\n\n    if (email && email !== oldEmail) {\n      await context.$magento.api.updateCustomerEmail({\n        email,\n        password,\n      });\n    }\n\n    const { data, errors } = await context.$magento.api.updateCustomer(userData);\n    Logger.debug('[Result]:', { data });\n\n    if (errors) {\n      throw new Error(errors.map((e) => e.message).join(','));\n    }\n\n    // return data.updateCustomerV2.customer;\n    return data?.updateCustomerV2?.customer || {};\n  },\n  register: async (context: Context, params) => {\n    const {\n      email,\n      password,\n      recaptchaToken,\n      ...baseData\n    } = generateUserData(params);\n\n    const { data, errors } = await context.$magento.api.createCustomer(\n      {\n        email,\n        password,\n        recaptchaToken,\n        ...baseData,\n      },\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    if (errors) {\n      Logger.error(errors);\n\n      throw new Error(errors.map((e) => e.message).join(','));\n    }\n    if (!data.createCustomerV2 || !data.createCustomerV2.customer) {\n      throw new Error('Customer registration error');\n    }\n\n    if (recaptchaToken) {\n      // generate a new token for the login action\n      const { recaptchaInstance } = params;\n      const newRecaptchaToken = await recaptchaInstance.getResponse();\n\n      return factoryParams.logIn(context, { username: email, password, recaptchaToken: newRecaptchaToken });\n    }\n\n    return factoryParams.logIn(context, { username: email, password });\n  },\n  logIn: async (context: Context, params: any) => {\n    Logger.debug('[Magento] Authenticate user');\n    const apiState = context.$magento.config.state;\n\n    const { data, errors } = await context.$magento.api.generateCustomerToken(\n      {\n        email: params.username,\n        password: params.password,\n        recaptchaToken: params.recaptchaToken,\n      },\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    if (errors) {\n      Logger.error(errors);\n\n      throw new Error(errors.map((e) => e.message).join(','));\n    }\n    if (!data.generateCustomerToken || !data.generateCustomerToken.token) {\n      throw new Error('Customer sign-in error');\n    }\n    apiState.setCustomerToken(data.generateCustomerToken.token);\n\n    // merge existing cart with customer cart\n    const currentCartId = apiState.getCartId();\n    const cart = await context.$magento.api.customerCart();\n    const newCartId = cart.data.customerCart.id;\n\n    if (newCartId && currentCartId && currentCartId !== newCartId) {\n      const { data: dataMergeCart } = await context.$magento.api.mergeCarts(\n        {\n          sourceCartId: currentCartId,\n          destinationCartId: newCartId,\n        },\n      );\n\n      context.cart.setCart(dataMergeCart.mergeCarts);\n\n      apiState.setCartId(dataMergeCart.mergeCarts.id);\n    } else {\n      context.cart.setCart(cart.data.customerCart);\n    }\n\n    await context.$magento.api.wishlist({});\n\n    return factoryParams.load(context);\n  },\n  changePassword: async (context: Context, params) => {\n    Logger.debug('[Magento] changing user password');\n    const { data, errors } = await context.$magento.api.changeCustomerPassword(params);\n    if (errors) {\n      Logger.error(errors);\n      throw new Error(errors.map((e) => e.message).join(','));\n    }\n\n    Logger.debug('[Result] ', { data });\n\n    return data?.changeCustomerPassword;\n  },\n};\n\nexport default useUserFactory<\nany,\nUpdateCustomerEmailMutationVariables,\nCustomerCreateInput & { email: string; password: string, recaptchaToken?: string }\n>(factoryParams);\n","import { Ref, computed } from '@vue/composition-api';\nimport {\n  ComposableFunctionArgs,\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseNewsletter, UseNewsletterErrors } from '../types/composables';\n\nexport interface UseNewsletterFactoryParams<NEWSLETTER, UPDATE_NEWSLETTER_PARAMS, API extends PlatformApi = any> extends FactoryParams<API> {\n  updateSubscription: (context: Context, params: ComposableFunctionArgs<{ email: UPDATE_NEWSLETTER_PARAMS }>) => Promise<NEWSLETTER>;\n}\n\nexport const useNewsletterFactory = <NEWSLETTER, UPDATE_NEWSLETTER_PARAMS, API extends PlatformApi = any>(\n  factoryParams: UseNewsletterFactoryParams<NEWSLETTER, UPDATE_NEWSLETTER_PARAMS, API>,\n) => function useNewsletter(): UseNewsletter<UPDATE_NEWSLETTER_PARAMS, API> {\n  const errorsFactory = (): UseNewsletterErrors => ({\n    updateSubscription: null,\n  });\n\n  const loading: Ref<boolean> = sharedRef(false, 'useNewsletter-loading');\n  // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n  const _factoryParams = configureFactoryParams(factoryParams);\n  const error: Ref<UseNewsletterErrors> = sharedRef(errorsFactory(), 'useNewsletter-error');\n\n  const resetErrorValue = () => {\n    error.value = errorsFactory();\n  };\n\n  const updateSubscription = async (params: ComposableFunctionArgs<{ email: UPDATE_NEWSLETTER_PARAMS }>) => {\n    Logger.debug('useNewsletterFactory.updateSubscription', params);\n    resetErrorValue();\n\n    try {\n      loading.value = true;\n      await _factoryParams.updateSubscription(params);\n      error.value.updateSubscription = null;\n    } catch (err) {\n      error.value.updateSubscription = err;\n      Logger.error('useNewsletter/updateSubscription', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    error: computed(() => error.value),\n    loading: computed(() => loading.value),\n    updateSubscription,\n  };\n};\n","/* istanbul ignore file */\nimport {\n  Context, Logger,\n} from '@vue-storefront/core';\nimport useUser from '../useUser';\nimport { useNewsletterFactory, UseNewsletterFactoryParams } from '../../factories/useNewsletterFactory';\n\nconst factoryParams: UseNewsletterFactoryParams<any, string> = {\n  provide() {\n    return {\n      user: useUser(),\n    };\n  },\n  updateSubscription: async (context: Context, params) => {\n    Logger.debug('[Magento]: Update user newsletter subscription', { params });\n\n    const { data } = await context.$magento.api.subscribeEmailToNewsletter(\n      {\n        email: params.email,\n      },\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    return data.subscribeEmailToNewsletter.status;\n  },\n};\n\nexport default useNewsletterFactory<any, string>(factoryParams);\n","import { Ref, computed } from '@vue/composition-api';\nimport {\n  ComposableFunctionArgs,\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UsePaymentProvider, UsePaymentProviderErrors } from '../types/composables';\n\nexport interface UsePaymentProviderParams<STATE, PAYMENT_METHOD, API extends PlatformApi = any> extends FactoryParams<API> {\n  load: (context: Context, params?: ComposableFunctionArgs<{ }>) => Promise<STATE>;\n  save: (context: Context, params: ComposableFunctionArgs<{ paymentMethod: PAYMENT_METHOD }>) => Promise<STATE>;\n}\n\nexport const usePaymentProviderFactory = <STATE, PAYMENT_METHOD, API extends PlatformApi = any>(\n  factoryParams: UsePaymentProviderParams<STATE, PAYMENT_METHOD, API>,\n) => function usePaymentProvider(): UsePaymentProvider<STATE, PAYMENT_METHOD, API> {\n  const loading: Ref<boolean> = sharedRef(false, 'usePaymentProvider-loading');\n  const state: Ref<STATE> = sharedRef(null, 'usePaymentProvider-response');\n  // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n  const _factoryParams = configureFactoryParams(factoryParams);\n  const error: Ref<UsePaymentProviderErrors> = sharedRef({\n    load: null,\n    save: null,\n  }, 'usePaymentProvider-error');\n\n  const setState = (newState: STATE) => {\n    state.value = newState;\n    Logger.debug('usePaymentProvider.setState', newState);\n  };\n\n  const save = async (params: ComposableFunctionArgs<{ paymentMethod: PAYMENT_METHOD }>) => {\n    Logger.debug('usePaymentProvider.save');\n\n    try {\n      loading.value = true;\n      state.value = await _factoryParams.save({\n        paymentMethod: params.paymentMethod || {},\n        customQuery: params?.customQuery || {},\n        state,\n      });\n      error.value.save = null;\n    } catch (err) {\n      error.value.save = err;\n      Logger.error('usePaymentProvider/save', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const load = async (params?: ComposableFunctionArgs<{}>) => {\n    Logger.debug('usePaymentProvider.load');\n\n    try {\n      loading.value = true;\n      state.value = await _factoryParams.load({\n        customQuery: params?.customQuery || {},\n        state,\n      });\n      error.value.load = null;\n    } catch (err) {\n      error.value.load = err;\n      Logger.error('usePaymentProvider/load', err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    state,\n    loading: computed(() => loading.value),\n    error: computed(() => error.value),\n    load,\n    save,\n    setState,\n  };\n};\n","import {\n  Context,\n  Logger,\n} from '@vue-storefront/core';\nimport {\n  PaymentMethodInput,\n  SetPaymentMethodOnCartInputs,\n} from '@vue-storefront/magento-api';\nimport useCart from '../useCart';\nimport { usePaymentProviderFactory, UsePaymentProviderParams } from '../../factories/usePaymentProviderFactory';\n\nconst factoryParams: UsePaymentProviderParams<any, PaymentMethodInput> = {\n  provide() {\n    return {\n      cart: useCart(),\n    };\n  },\n  load: async (context: Context, { customQuery }) => {\n    Logger.debug('[Magento] loadPaymentProvider', { customQuery });\n    const cartId = context.cart.cart.value.id;\n    const { data } = await context\n      .$magento\n      .api\n      .getAvailablePaymentMethods({ cartId });\n\n    Logger.debug('[Result]:', { data });\n\n    return data\n      .cart\n      .available_payment_methods;\n  },\n\n  save: async (context: Context, params) => {\n    Logger.debug('[Magento] savePaymentProvider', { params });\n\n    const paymentMethodParams: SetPaymentMethodOnCartInputs = {\n      cart_id: context.cart.cart.value.id,\n      payment_method: {\n        ...params.paymentMethod,\n      },\n    };\n\n    const { data } = await context\n      .$magento\n      .api\n      .setPaymentMethodOnCart(paymentMethodParams);\n\n    Logger.debug('[Result]:', { data });\n\n    return data\n      .setPaymentMethodOnCart\n      .cart\n      .available_payment_methods;\n  },\n};\n\nexport default usePaymentProviderFactory<any, PaymentMethodInput>(factoryParams);\n","import {\n  ComposableFunctionArgs,\n  Context,\n  Logger,\n  ProductsSearchParams,\n  UseProduct,\n  useProductFactory,\n  UseProductFactoryParams,\n} from '@vue-storefront/core';\nimport { ProductsListQuery, GetProductSearchParams, ProductsQueryType } from '@vue-storefront/magento-api';\nimport { Scalars } from '@vue-storefront/magento-api/lib/types/GraphQL';\n\nconst factoryParams: UseProductFactoryParams<ProductsListQuery['products'],\nProductsSearchParams> = {\n  productsSearch: async (context: Context, params: ComposableFunctionArgs<GetProductSearchParams & {\n    queryType: ProductsQueryType;\n    configurations?: Scalars['ID']\n  }>) => {\n    Logger.debug('[Magento]: Load product based on ', { params });\n\n    const {\n      queryType,\n      customQuery,\n      ...searchParams\n    } = {\n      ...params,\n    };\n\n    switch (queryType) {\n      case ProductsQueryType.Detail:\n        const productDetailsResults = await context\n          .$magento\n          .api\n          .productDetail({\n            ...searchParams,\n          } as GetProductSearchParams);\n\n        Logger.debug('[Result]:', { data: productDetailsResults });\n\n        return productDetailsResults.data?.products;\n\n      case ProductsQueryType.List:\n      default:\n        const productListResults = await context\n          .$magento\n          .api\n          .products(searchParams as GetProductSearchParams);\n\n        Logger.debug('[Result]:', { data: productListResults });\n\n        return productListResults.data?.products;\n    }\n  },\n};\n\nconst useProduct:\n(cacheId?: string) => UseProduct<ProductsListQuery['products'],\nProductsSearchParams> = useProductFactory<ProductsListQuery['products'],\nProductsSearchParams>(factoryParams);\n\nexport default useProduct;\n","import { computed, Ref } from '@vue/composition-api';\nimport {\n  configureFactoryParams, Context,\n  CustomQuery,\n  FactoryParams,\n  Logger,\n  ProductsSearchParams,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { ComposableFunctionArgs, PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseRelatedProducts, UseRelatedProductsErrors } from '../types/composables';\n\nexport interface UseRelatedProductsFactoryParams<\n  PRODUCTS,\n  RELATED_PRODUCTS_SEARCH_PARAMS extends ProductsSearchParams,\n  API extends PlatformApi = any,\n> extends FactoryParams<API> {\n  productsSearch: (context: Context, params: ComposableFunctionArgs<RELATED_PRODUCTS_SEARCH_PARAMS>) => Promise<PRODUCTS>;\n}\n\nexport function useRelatedProductsFactory<PRODUCTS, RELATED_PRODUCTS_SEARCH_PARAMS, API extends PlatformApi = any>(\n  factoryParams: UseRelatedProductsFactoryParams<PRODUCTS, RELATED_PRODUCTS_SEARCH_PARAMS, API>,\n) {\n  return function useRelatedProduct(id: string): UseRelatedProducts<PRODUCTS, RELATED_PRODUCTS_SEARCH_PARAMS, API> {\n    const products: Ref<PRODUCTS> = sharedRef([], `useRelatedProducts-products-${id}`);\n    const loading = sharedRef(false, `useRelatedProducts-loading-${id}`);\n    const error: Ref<UseRelatedProductsErrors> = sharedRef({\n      search: null,\n    }, `useRelatedProducts-error-${id}`);\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(\n      factoryParams,\n      {\n        mainRef: products, alias: 'relatedProducts-currentProduct', loading, error,\n      },\n    );\n\n    const search = async (searchParams: ComposableFunctionArgs<RELATED_PRODUCTS_SEARCH_PARAMS>) => {\n      Logger.debug(`useRelatedProducts/${id}/search`, searchParams);\n\n      try {\n        loading.value = true;\n        products.value = await _factoryParams.productsSearch(searchParams);\n        error.value.search = null;\n      } catch (err) {\n        error.value.search = err;\n        Logger.error(`useRelatedProducts/${id}/search`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      search,\n      products: computed(() => products.value),\n      loading: computed(() => loading.value),\n      error: computed(() => error.value),\n    };\n  };\n}\n","import {\n  ComposableFunctionArgs,\n  Context,\n  Logger,\n  ProductsSearchParams,\n} from '@vue-storefront/core';\nimport {\n  GetProductSearchParams,\n  RelatedProductQuery,\n} from '@vue-storefront/magento-api';\nimport { UseRelatedProducts } from '../../types/composables';\nimport {\n  useRelatedProductsFactory,\n  UseRelatedProductsFactoryParams,\n} from '../../factories/useRelatedProductsFactory';\n\nconst factoryParams: UseRelatedProductsFactoryParams<RelatedProductQuery['products']['items'][0]['related_products'], ProductsSearchParams> = {\n  productsSearch: async (\n    context: Context,\n    params: ComposableFunctionArgs<GetProductSearchParams>,\n  ) => {\n    Logger.debug('[Magento] Load related products based on ', { params });\n\n    const {\n      customQuery,\n      ...searchParams\n    } = params;\n\n    const { data } = await context\n      .$magento\n      .api\n      .relatedProduct(searchParams as GetProductSearchParams);\n\n    Logger.debug('[Result]:', { data });\n\n    return data.products?.items[0]?.related_products;\n  },\n};\n\nconst useRelatedProducts:\n(cacheId?: string) => UseRelatedProducts<RelatedProductQuery['products']['items'][0]['related_products'],\nProductsSearchParams> = useRelatedProductsFactory<RelatedProductQuery['products']['items'][0]['related_products'],\nProductsSearchParams>(factoryParams);\n\nexport default useRelatedProducts;\n","import { Ref, computed } from '@vue/composition-api';\nimport {\n  ComposableFunctionArgs,\n  configureFactoryParams,\n  Context,\n  CustomQuery,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseReview, UseReviewErrors } from '../types/composables';\n\nexport interface UseReviewFactoryParams<REVIEW,\n  REVIEWS_SEARCH_PARAMS,\n  REVIEWS_USER_SEARCH_PARAMS,\n  REVIEW_ADD_PARAMS,\n  REVIEW_METADATA,\n  API extends PlatformApi = any> extends FactoryParams<API> {\n  searchReviews: (context: Context, params: ComposableFunctionArgs<REVIEWS_SEARCH_PARAMS>) => Promise<REVIEW>;\n  addReview: (context: Context, params: ComposableFunctionArgs<REVIEW_ADD_PARAMS>) => Promise<REVIEW>;\n  loadReviewMetadata: (context: Context, params?: ComposableFunctionArgs<{}>) => Promise<REVIEW_METADATA[]>;\n  loadCustomerReviews: (context: Context, params: ComposableFunctionArgs<REVIEWS_USER_SEARCH_PARAMS>) => Promise<REVIEW>;\n}\n\nexport function useReviewFactory<\n  REVIEW,\n  REVIEWS_SEARCH_PARAMS,\n  REVIEWS_USER_SEARCH_PARAMS,\n  REVIEW_ADD_PARAMS,\n  REVIEW_METADATA,\n  API extends PlatformApi = any>(\n  factoryParams: UseReviewFactoryParams<REVIEW,\n  REVIEWS_SEARCH_PARAMS,\n  REVIEWS_USER_SEARCH_PARAMS,\n  REVIEW_ADD_PARAMS,\n  REVIEW_METADATA,\n  API>,\n) {\n  return function useReview(id: string): UseReview<REVIEW,\n  REVIEWS_SEARCH_PARAMS,\n  REVIEWS_USER_SEARCH_PARAMS,\n  REVIEW_ADD_PARAMS,\n  REVIEW_METADATA,\n  API> {\n    const reviews: Ref<REVIEW> = sharedRef([], `useReviews-reviews-${id}`);\n    const metadatas: Ref<REVIEW_METADATA[]> = sharedRef([], `useReviews-metadata-${id}`);\n    const loading: Ref<boolean> = sharedRef(false, `useReviews-loading-${id}`);\n    const error: Ref<UseReviewErrors> = sharedRef({\n      search: null,\n      addReview: null,\n      loadReviewMetadata: null,\n      loadCustomerReviews: null,\n    }, `useReviews-error-${id}`);\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    const search = async (searchParams?: ComposableFunctionArgs<REVIEWS_SEARCH_PARAMS>): Promise<void> => {\n      Logger.debug(`useReview/${id}/search`, searchParams);\n\n      try {\n        loading.value = true;\n        reviews.value = await _factoryParams.searchReviews(searchParams);\n        error.value.search = null;\n      } catch (err) {\n        error.value.search = err;\n        Logger.error(`useReview/${id}/search`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const loadCustomerReviews = async (): Promise<void> => {\n      Logger.debug(`useReview/${id}/loadCustomerReviews`);\n\n      try {\n        loading.value = true;\n        reviews.value = await _factoryParams.loadCustomerReviews();\n        error.value.loadCustomerReviews = null;\n      } catch (err) {\n        error.value.loadCustomerReviews = err;\n        Logger.error(`useReview/${id}/loadCustomerReviews`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const loadReviewMetadata = async (params?: ComposableFunctionArgs<{}>): Promise<void> => {\n      Logger.debug(`useReview/${id}/loadReviewMetadata`);\n\n      try {\n        loading.value = true;\n        metadatas.value = await _factoryParams.loadReviewMetadata(params);\n        error.value.loadReviewMetadata = null;\n      } catch (err) {\n        error.value.loadReviewMetadata = err;\n        Logger.error(`useReview/${id}/loadReviewMetadata`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const addReview = async (params: ComposableFunctionArgs<REVIEW_ADD_PARAMS>): Promise<void> => {\n      Logger.debug(`useReview/${id}/addReview`, params);\n\n      try {\n        loading.value = true;\n        reviews.value = await _factoryParams.addReview(params);\n        error.value.addReview = null;\n      } catch (err) {\n        error.value.addReview = err;\n        Logger.error(`useReview/${id}/addReview`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      search,\n      addReview,\n      loadReviewMetadata,\n      loadCustomerReviews,\n      metadata: computed(() => metadatas.value),\n      reviews: computed(() => reviews.value),\n      loading: computed(() => loading.value),\n      error: computed(() => error.value),\n    };\n  };\n}\n","/* istanbul ignore file */\nimport {\n  ComposableFunctionArgs,\n  Context,\n  Logger,\n} from '@vue-storefront/core';\nimport {\n  GetProductSearchParams,\n  ProductReviewRatingMetadata,\n  CreateProductReviewInput,\n  CustomerProductReviewParams,\n} from '@vue-storefront/magento-api';\nimport { useReviewFactory, UseReviewFactoryParams } from '../../factories/useReviewFactory';\n\nconst factoryParams: UseReviewFactoryParams<any,\nComposableFunctionArgs<GetProductSearchParams>,\nComposableFunctionArgs<CustomerProductReviewParams>,\nCreateProductReviewInput,\nProductReviewRatingMetadata> = {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  searchReviews: async (context: Context, params?: ComposableFunctionArgs<GetProductSearchParams>) => {\n    Logger.debug('[Magento] search review params input:', JSON.stringify(params, null, 2));\n    const {\n      customQuery,\n      ...input\n    } = params;\n\n    const { data } = await context.$magento.api.productReview(input as GetProductSearchParams);\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.products?.items ?? [];\n  },\n  addReview: async (context: Context, params: ComposableFunctionArgs<CreateProductReviewInput>) => {\n    Logger.debug('[Magento] add review params input:', JSON.stringify(params, null, 2));\n    const {\n      customQuery,\n      ...input\n    } = params;\n\n    const { data } = await context.$magento.api.createProductReview(input);\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.createProductReview?.review ?? {};\n  },\n  loadReviewMetadata: async (context: Context, params) => {\n    Logger.debug('[Magento] load review metadata');\n\n    const { data } = await context.$magento.api.productReviewRatingsMetadata();\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.productReviewRatingsMetadata?.items ?? [];\n  },\n  loadCustomerReviews: async (\n    context: Context,\n    params?: ComposableFunctionArgs<CustomerProductReviewParams>,\n  ) => {\n    Logger.debug('[Magento] load customer review based on:', { params });\n    const { data } = await context.$magento.api.customerProductReview(params);\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.customer ?? {};\n  },\n};\n\nexport default useReviewFactory<any,\nComposableFunctionArgs<GetProductSearchParams>,\nComposableFunctionArgs<CustomerProductReviewParams>,\nCreateProductReviewInput,\nProductReviewRatingMetadata>(factoryParams);\n","import {\n  Context,\n  Logger,\n  useShippingFactory,\n  UseShippingParams,\n} from '@vue-storefront/core';\nimport {\n  SetShippingAddressesOnCartInput,\n} from '@vue-storefront/magento-api';\nimport useCart from '../useCart';\nimport useGetShippingMethods from '../useGetShippingMethods';\n\nconst factoryParams: UseShippingParams<any, any> = {\n  provide() {\n    return {\n      useGetShippingMethods: useGetShippingMethods(),\n      cart: useCart(),\n    };\n  },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  load: async (context: Context, { customQuery }) => {\n    Logger.debug('[Magento] loadShipping', { customQuery });\n\n    if (!context.cart.cart?.value?.shipping_addresses) {\n      await context.cart.load({ customQuery });\n    }\n\n    return context.cart.cart.value.shipping_addresses[0];\n  },\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  save: async (context: Context, params) => {\n    Logger.debug('[Magento] save user shipping address', { params });\n\n    const { id } = context.cart.cart.value;\n\n    const {\n      apartment,\n      neighborhood,\n      extra,\n      customerAddressId,\n      ...address\n    } = params.shippingDetails;\n\n    const shippingData = customerAddressId\n      ? ({\n        customer_address_id: customerAddressId,\n      })\n      : ({\n        address: {\n          ...address,\n          street: [address.street, apartment, neighborhood, extra].filter(Boolean),\n        },\n      });\n\n    const shippingAddressInput: SetShippingAddressesOnCartInput = {\n      cart_id: id,\n      shipping_addresses: [\n        {\n          ...shippingData,\n        },\n      ],\n    };\n\n    const { data } = await context\n      .$magento\n      .api\n      .setShippingAddressesOnCart(shippingAddressInput);\n\n    Logger.debug('[Result]:', { data });\n\n    context.useGetShippingMethods.setState(data\n      .setShippingAddressesOnCart\n      .cart\n      .shipping_addresses[0]\n      .available_shipping_methods);\n\n    return data\n      .setShippingAddressesOnCart\n      .cart\n      .shipping_addresses[0];\n  },\n};\n\nexport default useShippingFactory<any, any>(factoryParams);\n","import { computed } from '@vue/composition-api';\nimport {\n  Context,\n  sharedRef,\n  Logger,\n  configureFactoryParams,\n  FactoryParams,\n} from '@vue-storefront/core';\nimport { ComposableFunctionArgs, PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseStore } from '../types/composables';\n\nexport interface UseStoreFactoryParams<STORES, STORE, API extends PlatformApi = any> extends FactoryParams<API> {\n  load: (context: Context, params?: ComposableFunctionArgs<{}>) => Promise<STORES>;\n  change: (context: Context, params: ComposableFunctionArgs<STORE>) => void;\n}\n\nexport function useStoreFactory<STORES, STORE,\n  API extends PlatformApi = any>(factoryParams: UseStoreFactoryParams<STORES, API>) {\n  return function useStore(cacheId: string = ''): UseStore<STORES, STORE, API> {\n    const ssrKey = cacheId || 'useStoreFactory';\n    // @ts-ignore\n    const stores = sharedRef<STORES>([], `${ssrKey}-stores`);\n    const loading = sharedRef<boolean>(false, `${ssrKey}-loading`);\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(factoryParams);\n\n    const load = async (params?: ComposableFunctionArgs<{}>) => {\n      Logger.debug(`useStore/${ssrKey}/load`);\n      loading.value = true;\n      try {\n        stores.value = await _factoryParams.load(params);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const change = async (store: ComposableFunctionArgs<STORE>): Promise<void> => {\n      loading.value = true;\n      try {\n        _factoryParams.change(store);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      load,\n      change,\n      stores: computed(() => stores.value),\n      loading: computed(() => loading.value),\n    };\n  };\n}\n","import { Context } from '@vue-storefront/core';\nimport { AvailableStores, StoreConfig } from '@vue-storefront/magento-api';\nimport { useStoreFactory, UseStoreFactoryParams } from '../../factories/useStoreFactory';\nimport { UseStore } from '../../types/composables';\nimport useCart from '../useCart';\nimport StoreConfigGetters from '../../getters/storeConfigGetters';\n\nconst factoryParams: UseStoreFactoryParams<AvailableStores, StoreConfig> = {\n  provide() {\n    return {\n      cart: useCart(),\n    };\n  },\n  load: async (context: Context): Promise<AvailableStores> => {\n    const { data } = await context.$magento.api.availableStores();\n\n    return data.availableStores || [];\n  },\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  change: (context: Context, store) => {\n    context.$magento.config.state.setStore(StoreConfigGetters.getCode(store));\n    context.$magento.config.state.setCurrency(StoreConfigGetters.getCurrency(store));\n    context.$magento.config.state.setLocale(StoreConfigGetters.getCode(store));\n  },\n};\n\nconst useStore: () => UseStore<AvailableStores, StoreConfig> = useStoreFactory<AvailableStores, StoreConfig>(factoryParams);\n\nexport default useStore;\n","import { computed, Ref } from '@vue/composition-api';\nimport {\n  configureFactoryParams,\n  FactoryParams,\n  Logger,\n  Context,\n  ProductsSearchParams,\n  sharedRef, UseProductFactoryParams,\n} from '@vue-storefront/core';\nimport { ComposableFunctionArgs, PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseUpsellProducts, UseUpsellProductsErrors } from '../types/composables';\n\nexport interface UseUpsellProductsFactoryParams<\n  PRODUCTS,\n  UPSELL_PRODUCTS_SEARCH_PARAMS extends ProductsSearchParams,\n  API extends PlatformApi = any,\n> extends FactoryParams<API> {\n  productsSearch: (context: Context, params: ComposableFunctionArgs<UPSELL_PRODUCTS_SEARCH_PARAMS>) => Promise<PRODUCTS>;\n}\n\nexport function useUpsellProductsFactory<PRODUCTS, UPSELL_PRODUCTS_SEARCH_PARAMS, API extends PlatformApi = any>(\n  factoryParams: UseProductFactoryParams<PRODUCTS, UPSELL_PRODUCTS_SEARCH_PARAMS, API>,\n) {\n  return function useUpsellProducts(id: string): UseUpsellProducts<PRODUCTS, UPSELL_PRODUCTS_SEARCH_PARAMS, API> {\n    const products: Ref<PRODUCTS> = sharedRef([], `useUpsellProducts-products-${id}`);\n    const loading = sharedRef(false, `useUpsellProducts-loading-${id}`);\n    const error: Ref<UseUpsellProductsErrors> = sharedRef({\n      search: null,\n    }, `useUpsellProducts-error-${id}`);\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(\n      factoryParams,\n      {\n        mainRef: products, alias: 'useUpsellProducts-currentProducts', loading, error,\n      },\n    );\n\n    const search = async (searchParams: ComposableFunctionArgs<UPSELL_PRODUCTS_SEARCH_PARAMS>) => {\n      Logger.debug(`useUpsellProducts/${id}/search`, searchParams);\n\n      try {\n        loading.value = true;\n        products.value = await _factoryParams.productsSearch(searchParams);\n        error.value.search = null;\n      } catch (err) {\n        error.value.search = err;\n        Logger.error(`useUpsellProducts/${id}/search`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    return {\n      search,\n      products: computed(() => products.value),\n      loading: computed(() => loading.value),\n      error: computed(() => error.value),\n    };\n  };\n}\n","import {\n  ComposableFunctionArgs,\n  Context,\n  Logger,\n  ProductsSearchParams,\n} from '@vue-storefront/core';\nimport {\n  GetProductSearchParams,\n  UpsellProductsQuery,\n} from '@vue-storefront/magento-api';\nimport {\n  useUpsellProductsFactory,\n  UseUpsellProductsFactoryParams,\n} from '../../factories/useUpsellProductsFactory';\nimport { UseUpsellProducts } from '../../types/composables';\n\nconst factoryParams: UseUpsellProductsFactoryParams<UpsellProductsQuery['products']['items'][0]['upsell_products'], ProductsSearchParams> = {\n  productsSearch: async (\n    context: Context,\n    params: ComposableFunctionArgs<GetProductSearchParams>,\n  ) => {\n    Logger.debug('[Magento] Find upsell products based on ', { params });\n\n    const {\n      customQuery,\n      ...searchParams\n    } = {\n      ...params,\n    };\n\n    const { data } = await context\n      .$magento\n      .api\n      .upsellProduct(searchParams as GetProductSearchParams);\n\n    Logger.debug('[Result]:', { data });\n\n    return data.products?.items[0]?.upsell_products;\n  },\n};\n\nconst useUpsellProducts:\n(cacheId?: string) => UseUpsellProducts<UpsellProductsQuery['products']['items'][0]['upsell_products'],\nProductsSearchParams> = useUpsellProductsFactory<UpsellProductsQuery['products']['items'][0]['upsell_products'],\nProductsSearchParams>(factoryParams);\n\nexport default useUpsellProducts;\n","import {\n  configureFactoryParams,\n  Context,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { computed } from '@vue/composition-api';\nimport { ComposableFunctionArgs, PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseUrlResolver } from '../types/composables';\n\nexport interface UseUrlResolverFactoryParams<ROUTER, API extends PlatformApi = any> extends FactoryParams<API> {\n  search: (context: Context, params: ComposableFunctionArgs<{ url: string }>) => Promise<ROUTER>;\n}\n\nexport const useUrlResolverFactory = <ROUTER, API extends PlatformApi = any>(\n  factoryParams: UseUrlResolverFactoryParams<ROUTER, API>,\n) => function useRouter(ssrKey = 'useRouter'): UseUrlResolver<ROUTER, API> {\n  // @ts-ignore\n  const result = sharedRef<ROUTER>({}, `${ssrKey}-result`);\n  const loading = sharedRef(false, `${ssrKey}-loading`);\n  const error = sharedRef({\n    search: null,\n  }, `${ssrKey}-error`);\n  // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n  const _factoryParams = configureFactoryParams(factoryParams);\n\n  // eslint-disable-next-line consistent-return\n  const search = async (params: ComposableFunctionArgs<{ url: string }>) => {\n    Logger.debug(`useRouter/${ssrKey}/search`);\n    loading.value = true;\n\n    try {\n      const data = await _factoryParams.search(params);\n\n      result.value = data;\n\n      return data;\n    } catch (err) {\n      error.value.search = err;\n\n      Logger.error(`useRouter/${ssrKey}/search`, err);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  return {\n    search,\n    result: computed(() => result.value),\n    loading: computed(() => loading.value),\n    error: computed(() => error.value),\n  };\n};\n","import { Context, Logger } from '@vue-storefront/core';\nimport { Route } from '@vue-storefront/magento-api';\nimport { useUrlResolverFactory, UseUrlResolverFactoryParams } from '../../factories/useUrlResolverFactory';\nimport { UseUrlResolver } from '../../types/composables';\n\nconst factoryParams: UseUrlResolverFactoryParams<Route> = {\n  search: async (context: Context, params) => {\n    Logger.debug('[Magento] Find information based on URL', { params });\n    const clearUrl = params.url.replace(/[a-z]+\\/[cp|]\\//gi, '');\n\n    const { data } = await context.$magento.api.urlResolver(clearUrl);\n\n    Logger.debug('[Result]:', { data });\n\n    return data.urlResolver;\n  },\n};\nconst useUrlResolver: (cacheId?: string) => UseUrlResolver<Route> = useUrlResolverFactory<Route>(factoryParams);\n\nexport default useUrlResolver;\n","import {\n  Context,\n  Logger,\n  useUserBillingFactory,\n  UseUserBillingFactoryParams,\n} from '@vue-storefront/core';\n\nimport { CustomerAddress } from '@vue-storefront/magento-api';\nimport useUser from '../useUser';\nimport { transformUserCreateAddressInput, transformUserUpdateAddressInput } from '../../helpers/userAddressManipulator';\n\nconst factoryParams: UseUserBillingFactoryParams<any, CustomerAddress> = {\n  provide() {\n    return {\n      user: useUser(),\n    };\n  },\n  addAddress: async (context: Context, params?) => {\n    Logger.debug('[Magento]: add billing address', { params });\n\n    const { data } = await context.$magento.api.createCustomerAddress(transformUserCreateAddressInput(params));\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.createCustomerAddress ?? {};\n  },\n\n  deleteAddress: async (context: Context, params?) => {\n    Logger.debug('[Magento] delete billing address', { params });\n\n    const { data } = await context.$magento.api.deleteCustomerAddress(params.address.id);\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.deleteCustomerAddress ?? {};\n  },\n\n  updateAddress: async (context: Context, params?) => {\n    Logger.debug('[Magento] update billing address', { params });\n\n    const { data } = await context.$magento.api.updateCustomerAddress(transformUserUpdateAddressInput(params));\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.updateCustomerAddress ?? {};\n  },\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  load: async (context: Context, _params?) => {\n    Logger.debug('[Magento] load user address');\n\n    if (!context.user.user?.value?.id) {\n      await context.user.load();\n    }\n\n    return context.user.user?.value;\n  },\n\n  setDefaultAddress: async (context: Context, params?) => {\n    Logger.debug('[Magento] setDefaultAddress');\n\n    const { data } = await context.$magento.api.updateCustomerAddress(transformUserUpdateAddressInput(params));\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.updateCustomerAddress ?? {};\n  },\n};\n\nexport default useUserBillingFactory<any, CustomerAddress>(factoryParams);\n","/* istanbul ignore file */\nimport {\n  Context,\n  Logger,\n  useUserOrderFactory,\n  UseUserOrderFactoryParams,\n} from '@vue-storefront/core';\nimport { GetOrdersSearchParams } from '@vue-storefront/magento-api';\nimport useUser from '../useUser';\n\nconst factoryParams: UseUserOrderFactoryParams<any, GetOrdersSearchParams> = {\n  provide() {\n    return {\n      user: useUser(),\n    };\n  },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  searchOrders: async (context: Context, params) => {\n    Logger.debug('[Magento] search user orders', { params });\n\n    if (!context.user.user?.value?.id) {\n      await context.user.load();\n    }\n\n    const { data } = await context.$magento.api.customerOrders(params);\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.customer?.orders ?? {};\n  },\n};\n\nexport default useUserOrderFactory<any, GetOrdersSearchParams>(factoryParams);\n","import {\n  Context,\n  Logger,\n  useUserShippingFactory,\n  UseUserShippingFactoryParams,\n} from '@vue-storefront/core';\nimport useUser from '../useUser';\nimport { transformUserCreateAddressInput, transformUserUpdateAddressInput } from '../../helpers/userAddressManipulator';\n\nconst factoryParams: UseUserShippingFactoryParams<any, any> = {\n  provide() {\n    return {\n      user: useUser(),\n    };\n  },\n\n  addAddress: async (context: Context, params?) => {\n    Logger.debug('[Magento]: add shipping address', { params });\n\n    const { data } = await context.$magento.api.createCustomerAddress(\n      transformUserCreateAddressInput(params),\n    );\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.createCustomerAddress ?? {};\n  },\n\n  deleteAddress: async (context: Context, params) => {\n    Logger.debug('[Magento] delete shipping address', { params });\n    const { data } = await context.$magento.api.deleteCustomerAddress(params.address.id);\n\n    return data?.deleteCustomerAddress ?? {};\n  },\n\n  updateAddress: async (context: Context, params) => {\n    Logger.debug('[Magento] update shipping address', { params });\n\n    const { data } = await context.$magento.api.updateCustomerAddress(transformUserUpdateAddressInput(params));\n\n    return data?.updateCustomerAddress ?? {};\n  },\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  load: async (context: Context, _params?) => {\n    Logger.debug('[Magento] load user address');\n\n    if (!context.user.user?.value?.id) {\n      await context.user.load();\n    }\n\n    return context.user.user?.value;\n  },\n\n  setDefaultAddress: async (context: Context, params) => {\n    Logger.debug('[Magento] set default shipping address');\n\n    const { data } = await context.$magento.api.updateCustomerAddress(transformUserUpdateAddressInput(params));\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.updateCustomerAddress ?? {};\n  },\n};\n\nexport default useUserShippingFactory<any, any>(factoryParams);\n","export const compareWishlistProduct = (\n  productA,\n  productB,\n): boolean => {\n  const equalSku = productA?.sku === productB?.sku;\n  const equalUid = productA?.uid === productB?.uid;\n\n  return equalSku && equalUid;\n};\n","import { compareWishlistProduct } from './compareWishlist';\n\nexport const findItemOnWishlist = (currentWishlist, product) => {\n  const wishlist = Array.isArray(currentWishlist) ? currentWishlist[0] : currentWishlist;\n\n  return wishlist\n    ?.items_v2\n    ?.items?.find((item) => compareWishlistProduct(item.product, product));\n};\n","import {\n  Ref,\n  computed,\n} from '@vue/composition-api';\nimport {\n  configureFactoryParams,\n  Context,\n  CustomQuery,\n  FactoryParams,\n  Logger,\n  sharedRef,\n} from '@vue-storefront/core';\nimport { ComposableFunctionArgs, PlatformApi } from '@vue-storefront/core/lib/src/types';\nimport { UseWishlist, UseWishlistErrors } from '../types/composables';\n\nexport interface UseWishlistFactoryParams<WISHLIST,\n  WISHLIST_ITEM,\n  PRODUCT,\n  API extends PlatformApi = any> extends FactoryParams<API> {\n  load: (context: Context, params: ComposableFunctionArgs<{\n    searchParams?: Partial<{\n      currentPage: number;\n      pageSize: number;\n    }>,\n  }>) => Promise<WISHLIST>;\n  loadItemsCount: (context: Context, params: ComposableFunctionArgs<{\n    searchParams?: Partial<{\n      currentPage: number;\n      pageSize: number;\n    }>,\n  }>) => Promise<WISHLIST>;\n  addItem: (\n    context: Context,\n    params: ComposableFunctionArgs<{\n      currentWishlist: WISHLIST;\n      product: PRODUCT;\n    }>) => Promise<WISHLIST>;\n  removeItem: (\n    context: Context,\n    params: ComposableFunctionArgs<{\n      currentWishlist: WISHLIST;\n      product: WISHLIST_ITEM;\n    }>) => Promise<WISHLIST>;\n  clear: (context: Context, params: { currentWishlist: WISHLIST }) => Promise<WISHLIST>;\n  isInWishlist: (context: Context, params: { currentWishlist: WISHLIST; product: PRODUCT }) => boolean;\n}\n\nexport const useWishlistFactory = <WISHLIST, WISHLIST_ITEM, PRODUCT, API extends PlatformApi = any>(\n  factoryParams: UseWishlistFactoryParams<WISHLIST, WISHLIST_ITEM, PRODUCT, API>,\n) => {\n  const calculateWishlistTotal = (wishlists) => wishlists.reduce((prev, next) => (prev?.items_count ?? 0) + (next?.items_count ?? 0), 0);\n\n  const useWishlist = (ssrKey = 'useWishlistFactory'): UseWishlist<WISHLIST, WISHLIST_ITEM, PRODUCT, API> => {\n    const loading: Ref<boolean> = sharedRef<boolean>(false, `useWishlist-loading-${ssrKey}`);\n    const wishlist: Ref<WISHLIST> = sharedRef(null, `useWishlist-wishlist-${ssrKey}`);\n    const itemsCount: Ref<number> = sharedRef(0, `useWishlist-itemsCount-${ssrKey}`);\n    const error: Ref<UseWishlistErrors> = sharedRef({\n      addItem: null,\n      removeItem: null,\n      load: null,\n      loadItemsCount: null,\n      clear: null,\n    }, `useWishlist-error-${ssrKey}`);\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention,no-underscore-dangle\n    const _factoryParams = configureFactoryParams(\n      factoryParams,\n      {\n        mainRef: wishlist,\n        alias: 'currentWishlist',\n        loading,\n        error,\n      },\n    );\n\n    const setWishlist = (newWishlist: WISHLIST) => {\n      wishlist.value = newWishlist;\n      itemsCount.value = newWishlist[0].items_count;\n      Logger.debug(`useWishlistFactory/${ssrKey}/setWishlist`, newWishlist);\n    };\n\n    const addItem = async ({ product, customQuery }) => {\n      Logger.debug(`useWishlist/${ssrKey}/addItem`, product);\n\n      try {\n        loading.value = true;\n        const updatedWishlist = await _factoryParams.addItem({\n          currentWishlist: wishlist.value,\n          product,\n          customQuery,\n        });\n        error.value.addItem = null;\n        wishlist.value = updatedWishlist;\n        itemsCount.value = updatedWishlist.items_count;\n      } catch (err) {\n        error.value.addItem = err;\n        Logger.error(`useWishlist/${ssrKey}/addItem`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const removeItem = async ({ product, customQuery }) => {\n      Logger.debug(`useWishlist/${ssrKey}/removeItem`, product);\n\n      try {\n        loading.value = true;\n        const updatedWishlist = await _factoryParams.removeItem({\n          currentWishlist: wishlist.value,\n          product,\n          customQuery,\n        });\n        error.value.removeItem = null;\n        wishlist.value = updatedWishlist;\n        itemsCount.value = updatedWishlist.items_count;\n      } catch (err) {\n        error.value.removeItem = err;\n        Logger.error(`useWishlist/${ssrKey}/removeItem`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const load = async (params: {\n      searchParams?: Partial<{\n        currentPage: number;\n        pageSize: number;\n      }>,\n      customQuery?: CustomQuery,\n    }) => {\n      Logger.debug(`useWishlist/${ssrKey}/load`);\n      try {\n        loading.value = true;\n        const loadedWishlist = await _factoryParams.load(params);\n        wishlist.value = loadedWishlist;\n        itemsCount.value = calculateWishlistTotal(loadedWishlist);\n        error.value.load = null;\n      } catch (err) {\n        error.value.load = err;\n        Logger.error(`useWishlist/${ssrKey}/load`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const loadItemsCount = async (params: {\n      customQuery?: CustomQuery\n    }) => {\n      Logger.debug(`useWishlist/${ssrKey}/loadItemsCount`);\n      try {\n        const loadedWishlist = await _factoryParams.loadItemsCount(params);\n        itemsCount.value = calculateWishlistTotal(loadedWishlist);\n        error.value.loadItemsCount = null;\n      } catch (err) {\n        error.value.loadItemsCount = err;\n        Logger.error(`useWishlist/${ssrKey}/loadItemsCount`, err);\n      }\n    };\n\n    const clear = async () => {\n      Logger.debug(`useWishlist/${ssrKey}/clear`);\n\n      try {\n        loading.value = true;\n        const updatedWishlist = await _factoryParams.clear({\n          currentWishlist: wishlist.value,\n        });\n        error.value.clear = null;\n        wishlist.value = updatedWishlist;\n        itemsCount.value = 0;\n      } catch (err) {\n        error.value.clear = err;\n        Logger.error(`useWishlist/${ssrKey}/clear`, err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const isInWishlist = ({ product }) => {\n      Logger.debug(`useWishlist/${ssrKey}/isInWishlist`, product);\n\n      return _factoryParams.isInWishlist({\n        currentWishlist: wishlist.value,\n        product,\n      });\n    };\n\n    return {\n      api: _factoryParams.api,\n      wishlist,\n      itemsCount,\n      isInWishlist,\n      addItem,\n      load,\n      loadItemsCount,\n      removeItem,\n      clear,\n      setWishlist,\n      loading,\n      error,\n    };\n  };\n\n  return useWishlist;\n};\n","/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/require-await */\n/* istanbul ignore file */\nimport {\n  Context,\n  Logger,\n} from '@vue-storefront/core';\nimport useUser from '../useUser';\nimport { findItemOnWishlist } from '../../helpers/findItemOnWishlist';\nimport { useWishlistFactory, UseWishlistFactoryParams } from '../../factories/useWishlistFactory';\n\n// @ts-ignore\nconst factoryParams: UseWishlistFactoryParams<any, any, any> = {\n  provide() {\n    return {\n      user: useUser(),\n    };\n  },\n  // @ts-ignore\n  load: async (context: Context, params) => {\n    Logger.debug('[Magento Storefront]: useWishlist.load params->', params);\n    const apiState = context.$magento.config.state;\n\n    if (apiState.getCustomerToken()) {\n      const { data } = await context.$magento.api.wishlist(params?.searchParams);\n\n      Logger.debug('[Result]:', { data });\n\n      return data?.customer?.wishlists ?? [];\n    }\n\n    return [];\n  },\n  loadItemsCount: async (context: Context, params) => {\n    Logger.debug('[Magento Storefront]: useWishlist.wishlistItemsCount params->', params);\n    const apiState = context.$magento.config.state;\n\n    if (apiState.getCustomerToken()) {\n      const { data } = await context.$magento.api.wishlistItemsCount();\n\n      Logger.debug('[Result]:', { data });\n\n      return data?.customer?.wishlists ?? [];\n    }\n\n    return [];\n  },\n  addItem: async (context, params) => {\n    const {\n      currentWishlist,\n      product,\n    } = params;\n    Logger.debug('[Magento Storefront]: useWishlist.addItem params->', params);\n    if (!currentWishlist) await factoryParams.load(context, {});\n\n    const itemOnWishlist = findItemOnWishlist(currentWishlist, params.product);\n\n    if (itemOnWishlist) {\n      return factoryParams.removeItem(context, {\n        product,\n        currentWishlist,\n      });\n    }\n\n    if (!context.user.isAuthenticated.value) {\n      throw new Error('Need to be authenticated to add a product to wishlist');\n    }\n    // @ts-ignore\n    // eslint-disable-next-line no-underscore-dangle\n    switch (product.__typename) {\n      case 'VirtualProduct':\n      case 'DownloadableProduct':\n      case 'GroupedProduct':\n      case 'GiftCard':\n      case 'SimpleProduct':\n        const { data } = await context.$magento.api.addProductToWishList({\n          id: '0',\n          items: [{\n            sku: product.sku,\n            quantity: 1,\n          }],\n        });\n\n        Logger.debug('[Result]:', { data });\n\n        return data?.addProductsToWishlist?.wishlist ?? {};\n      case 'ConfigurableProduct':\n        const { data: configurableProductData } = await context.$magento.api.addProductToWishList({\n          id: '0',\n          items: [{\n            sku: product.configurable_product_options_selection?.variant?.sku || product.sku,\n            quantity: 1,\n            parent_sku: product.sku,\n          }],\n        });\n\n        Logger.debug('[Result]:', { data: configurableProductData });\n\n        return configurableProductData?.addProductsToWishlist?.wishlist ?? {};\n      case 'BundleProduct':\n        const { data: bundleProductData } = await context.$magento.api.addProductToWishList({\n          id: '0',\n          items: [{\n            sku: product.sku,\n            quantity: 1,\n            entered_options: product.bundle_options ? [...product.bundle_options] : [],\n          }],\n        });\n\n        Logger.debug('[Result]:', { data: bundleProductData });\n\n        return bundleProductData?.addProductsToWishlist?.wishlist ?? {};\n      default:\n        // todo implement other options\n        // @ts-ignore\n        // eslint-disable-next-line no-underscore-dangle\n        throw new Error(`Product Type ${product.__typename} not supported in add to wishlist yet`);\n    }\n  },\n  removeItem: async (context, params) => {\n    const {\n      product,\n      currentWishlist,\n    } = params;\n    Logger.debug('[Magento Storefront]: useWishlist.removeItem params->', params);\n    const itemOnWishlist = findItemOnWishlist(currentWishlist, params.product);\n\n    const { data } = await context.$magento.api.removeProductsFromWishlist({\n      id: '0',\n      items: [itemOnWishlist.id],\n    });\n\n    Logger.debug('[Result]:', { data });\n\n    return data?.removeProductsFromWishlist?.wishlist ?? {};\n  },\n  clear: async ({ currentWishlist }) => ({}),\n  isInWishlist: (context, params) => {\n    const {\n      currentWishlist,\n      product,\n    } = params;\n    const wishlistProduct = findItemOnWishlist(currentWishlist, product);\n    return !!(wishlistProduct?.id && wishlistProduct?.quantity);\n  },\n};\n\nexport default useWishlistFactory<any, any, any>(factoryParams);\n","/* istanbul ignore file */\nimport { track } from '@vue-storefront/core';\n\ntrack('VSFMagento');\n\nexport * from './getters';\nexport * from './getVueContext';\n\nexport { default as useAddresses } from './composables/useAddresses';\nexport { default as useBilling } from './composables/useBilling';\nexport { default as useCart } from './composables/useCart';\nexport { default as useCategory } from './composables/useCategory';\nexport { default as useCategorySearch } from './composables/useCategorySearch';\nexport { default as useConfig } from './composables/useConfig';\nexport { default as useContent } from './composables/useContent';\nexport { default as useCountrySearch } from './composables/useCountrySearch';\nexport { default as useCurrency } from './composables/useCurrency';\nexport { default as useCustomMutation } from './composables/useCustomMutation';\nexport { default as useCustomQuery } from './composables/useCustomQuery';\nexport { default as useExternalCheckout } from './composables/useExternalCheckout';\nexport { default as useFacet } from './composables/useFacet';\nexport { default as useForgotPassword } from './composables/useForgotPassword';\nexport { default as useGetShippingMethods } from './composables/useGetShippingMethods';\nexport { default as useGuestUser } from './composables/useGuestUser';\nexport { default as useMakeOrder } from './composables/useMakeOrder';\nexport { default as useNewsletter } from './composables/useNewsletter';\nexport { default as usePaymentProvider } from './composables/usePaymentProvider';\nexport { default as useProduct } from './composables/useProduct';\nexport { default as useRelatedProducts } from './composables/useRelatedProducts';\nexport { default as useReview } from './composables/useReview';\nexport { default as useShipping } from './composables/useShipping';\nexport { default as useShippingProvider } from './composables/useShippingProvider';\nexport { default as useStore } from './composables/useStore';\nexport { default as useUpsellProducts } from './composables/useUpsellProducts';\nexport { default as useUrlResolver } from './composables/useUrlResolver';\nexport { default as useUser } from './composables/useUser';\nexport { default as useUserBilling } from './composables/useUserBilling';\nexport { default as useUserOrder } from './composables/useUserOrder';\nexport { default as useUserShipping } from './composables/useUserShipping';\nexport { default as useWishlist } from './composables/useWishlist';\nexport * from './dataTypes';\n"],"names":["getCategoryTree","getItems","getTotalReviews","getAverageRating","getName","getSlug","getPrice","getId","getFormattedPrice","getBreadcrumbs","categoryGetters","reviewGetters","getItemName","productGetters","getItemImage","getItemPrice","getItemQty","getItemAttributes","getItemSku","getTotals","getShippingPrice","getTotalItems","getProducts","getPagination","Logger","sharedRef","configureFactoryParams","computed","factoryParams","useShippingProviderFactory","useBillingFactory","useCategoryFactory","useFacetFactory","useForgotPasswordFactory","useMakeOrderFactory","useUserFactory","useProductFactory","useGetShippingMethods","useShippingFactory","useUserBillingFactory","useUserOrderFactory","useUserShippingFactory","track"],"mappings":"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"}